openapi: 3.0.3
info:
  title: Inbo Backend API
  version: '0.986'
  description: |-
    # Inbo API Documentation

    ## Overview
    Inbo is a comprehensive email management and newsletter platform that helps users organize, read, and manage their email communications efficiently. This API provides all the endpoints needed to build mobile and web applications on top of the Inbo platform.

    ## Key Features
    - üìß **Email Management**: Receive, organize, and manage emails through custom @inbo.me inboxes
    - üì∞ **Newsletter Discovery**: Browse and subscribe to curated newsletters
    - üìñ **Reading Tracking**: Track daily reading progress and maintain reading streaks
    - üîê **Secure Authentication**: OTP-based authentication with JWT tokens
    - üì± **Mobile-First**: Optimized for mobile applications with offline support
    - üîÑ **Integrations**: Connect with Pocket, Notion, and Evernote

    ## Getting Started

    ### 1. Authentication
    All protected endpoints require a JWT Bearer token. To obtain a token:
    1. Send OTP to your email: `POST /api/auth/send-otp/`
    2. Verify OTP: `POST /api/auth/verify-otp/`
    3. Use the returned `accessToken` in the Authorization header: `Bearer {accessToken}`

    ### 2. Quick Start Flow
    1. **Register/Login**: Use OTP authentication
    2. **Create Profile**: Update user profile with name, birth year, gender
    3. **Create Inbox**: Get a unique @inbo.me email address
    4. **Start Reading**: Track your reading progress and build streaks

    ## API Version
    Current version: **0.986**

    ## Base URLs
    - **Production**: `https://inbo-django-api.azurewebsites.net`
    - **Legacy API**: `https://inbo-api.azurewebsites.net` (deprecated)
    - **Local Development**: `http://localhost:8000`

    ## Rate Limiting
    API requests are rate-limited to ensure fair usage:
    - **Authentication endpoints**: 10 requests per minute per IP
    - **General endpoints**: 100 requests per minute per user
    - **Reading endpoints**: 200 requests per minute per user

    ## Error Handling
    All errors follow a consistent format:
    ```json
    {
      "statusCode": 400,
      "message": "Error description",
      "error": "Error Type"
    }
    ```

    ## Support
    For API support, please contact: support@inbo.me
  contact:
    name: Inbo Support
    url: https://inbo.me/support
    email: support@inbo.me
  license:
    name: Proprietary
    url: https://inbo.me/terms
paths:
  /:
    get:
      operationId: root_retrieve
      description: Returns basic information about the API and links to documentation
      summary: Get API information
      tags:
      - Health Check
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                description: API information retrieved successfully
          description: ''
  /api/account-deletion/cancel/{deletionId}/:
    post:
      operationId: api_account_deletion_cancel_create
      description: Cancel a pending account deletion request. You will receive a confirmation
        email. Only requests with PENDING or SCHEDULED status can be cancelled.
      summary: Cancel account deletion request
      parameters:
      - in: path
        name: deletionId
        schema:
          type: string
        description: Deletion request UUID
        required: true
      tags:
      - Account Deletion
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AccountDeletionCancelRequest'
            examples:
              CancelDeletionRequest:
                value:
                  email: user@example.com
                summary: Cancel Deletion Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/AccountDeletionCancelRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/AccountDeletionCancelRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CancelDeletionRequestResponse'
              examples:
                SuccessResponse:
                  value:
                    success: true
                    message: Account deletion request has been cancelled successfully
                  summary: Success Response
          description: Deletion request cancelled successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Validation error
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Deletion request not found or already processed
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/account-deletion/request/:
    post:
      operationId: api_account_deletion_request_create
      description: Submit a request to delete your Inbo.club account. Your data will
        be permanently deleted after 30 days. You will receive a confirmation email.
        Reason must be at least 10 characters.
      summary: Submit account deletion request
      tags:
      - Account Deletion
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AccountDeletionRequestRequest'
            examples:
              SubmitDeletionRequest:
                value:
                  email: user@example.com
                  reason: I no longer need this service and want to delete my account
                    permanently.
                summary: Submit Deletion Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/AccountDeletionRequestRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/AccountDeletionRequestRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SubmitDeletionRequestResponse'
              examples:
                SuccessResponse:
                  value:
                    success: true
                    message: Account deletion request submitted successfully. You
                      will receive a confirmation email.
                    deletionId: 123e4567-e89b-12d3-a456-426614174000
                    scheduledFor: '2025-01-23T10:30:00.000Z'
                    daysRemaining: 30
                  summary: Success Response
          description: Deletion request submitted successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Invalid email or reason (must be at least 10
            characters)
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - No account found with this email
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/account-deletion/stats/:
    get:
      operationId: api_account_deletion_stats_retrieve
      description: Get statistics about account deletion requests. This endpoint is
        for administrative purposes and requires admin authentication.
      summary: Get deletion statistics (Admin only)
      tags:
      - Account Deletion
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeletionStatsResponse'
              examples:
                SuccessResponse:
                  value:
                    totalRequests: 150
                    pendingRequests: 25
                    scheduledDeletions: 30
                    completedDeletions: 80
                    cancelledRequests: 15
                  summary: Success Response
          description: Deletion statistics retrieved successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized - Admin access required
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/account-deletion/status/{deletionId}/:
    get:
      operationId: api_account_deletion_status_retrieve
      description: Check the status of your account deletion request. Returns status,
        scheduled deletion date, days remaining, and whether it can be cancelled.
      summary: Get deletion request status
      parameters:
      - in: path
        name: deletionId
        schema:
          type: string
        description: Deletion request UUID
        required: true
      - in: query
        name: email
        schema:
          type: string
        description: Email address used during signup
        required: true
      tags:
      - Account Deletion
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeletionStatusResponse'
              examples:
                SuccessResponse:
                  value:
                    status: SCHEDULED
                    scheduledFor: '2025-01-23T10:30:00.000Z'
                    daysRemaining: 25
                    canCancel: true
                  summary: Success Response
          description: Deletion request status retrieved successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Missing email parameter
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Deletion request not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/api/experience/interactions/:
    get:
      operationId: api_api_experience_interactions_retrieve
      description: Get experience interactions for current user
      tags:
      - api
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          description: No response body
    post:
      operationId: api_api_experience_interactions_create
      description: |-
        Track user interaction with experience elements

        Body:
            {
                "interaction_type": "click",
                "section_type": "continue_reading",
                "item_id": "...",
                "position": 2,
                "dwell_time": 5.2,
                "session_id": "...",
                "metadata": {...}
            }
      tags:
      - api
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          description: No response body
  /api/api/experience/page/{page}/:
    get:
      operationId: api_api_experience_page_retrieve
      description: |-
        Get personalized experience for a page

        Query Parameters:
            - max_sections: Maximum number of sections (default: 10)
            - session_id: Session identifier
            - time_of_day: morning, afternoon, evening
            - device: mobile, desktop, tablet
            - location: Location identifier

        Returns:
            {
                "page": "home",
                "intent": "discovery",
                "sections": [
                    {
                        "type": "continue_reading",
                        "priority": 0.92,
                        "title": "Continue Reading",
                        "items": [...],
                        "metadata": {...}
                    },
                    ...
                ],
                "metadata": {...}
            }
      parameters:
      - in: path
        name: page
        schema:
          type: string
        required: true
      tags:
      - api
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          description: No response body
  /api/api/experience/renders/:
    get:
      operationId: api_api_experience_renders_retrieve
      description: Get experience renders for current user
      tags:
      - api
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          description: No response body
  /api/auth/check-email/:
    get:
      operationId: api_auth_check_email_retrieve
      description: Check if an email address is already assigned to an existing user
        account. Returns a boolean response.
      summary: Check if email is already registered
      parameters:
      - in: query
        name: email
        schema:
          type: string
        description: Email address to check
        required: true
      tags:
      - Authentication
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CheckEmailResponse'
              examples:
                EmailExists:
                  value:
                    exists: true
                  summary: Email Exists
                EmailDoesNotExist:
                  value:
                    exists: false
                  summary: Email Does Not Exist
          description: Email check completed successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              examples:
                MissingEmail:
                  value:
                    statusCode: 400
                    message: Email parameter is required
                    error: BadRequest
                  summary: Missing Email
          description: Bad Request - Email parameter missing or invalid
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/auth/logout/:
    post:
      operationId: api_auth_logout_create
      description: Logout user and invalidate tokens. Optionally logout from all devices.
      summary: Logout
      tags:
      - Authentication
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LogoutRequest'
            examples:
              LogoutRequest:
                value:
                  refreshToken: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
                  logoutFromAllDevices: false
                summary: Logout Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/LogoutRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/LogoutRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LogoutResponse'
              examples:
                SuccessResponse:
                  value:
                    success: true
                    message: Logged out successfully
                  summary: Success Response
          description: Logged out successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Invalid request data
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized - Invalid token or not authenticated
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/auth/refresh/:
    post:
      operationId: api_auth_refresh_create
      description: Refresh access token using refresh token. Returns a new access
        token.
      summary: Refresh Token
      tags:
      - Authentication
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RefreshTokenRequest'
            examples:
              RefreshTokenRequest:
                value:
                  refreshToken: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
                summary: Refresh Token Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/RefreshTokenRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/RefreshTokenRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RefreshTokenResponse'
              examples:
                SuccessResponse:
                  value:
                    accessToken: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
                    expiresAt: '2024-12-24T16:00:00.000Z'
                  summary: Success Response
          description: New access token returned successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Invalid request data
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              examples:
                InvalidToken:
                  value:
                    statusCode: 401
                    message: Invalid or expired refresh token
                    error: Unauthorized
                  summary: Invalid Token
          description: Unauthorized - Invalid or expired refresh token
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/auth/send-otp/:
    post:
      operationId: api_auth_send_otp_create
      description: Send OTP to email address for authentication
      summary: Send OTP
      tags:
      - Authentication
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SendOTPRequest'
            examples:
              SendOTPRequest:
                value:
                  email: user@example.com
                summary: Send OTP Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/SendOTPRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/SendOTPRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SendOTPResponse'
              examples:
                SuccessResponse:
                  value:
                    success: true
                    message: OTP sent to your email
                  summary: Success Response
          description: OTP sent successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              examples:
                InvalidEmail:
                  value:
                    statusCode: 400
                    message: Invalid email format
                    error: BadRequest
                  summary: Invalid Email
          description: Bad Request - Invalid email or validation error
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/auth/validate-session/:
    post:
      operationId: api_auth_validate_session_create
      description: Check if access token or refresh token is still valid. Returns
        session status and user information if valid. **At least one token must be
        provided!**
      summary: Validate session
      tags:
      - Authentication
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ValidateSessionRequest'
            examples:
              ValidateSessionRequest:
                value:
                  accessToken: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
                  refreshToken: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
                summary: Validate Session Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ValidateSessionRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ValidateSessionRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidateSessionResponse'
              examples:
                ValidSession:
                  value:
                    isValid: true
                    user:
                      id: 123e4567-e89b-12d3-a456-426614174000
                      email: user@example.com
                      name: John Doe
                      isVerified: true
                      isInboxCreated: true
                    message: null
                  summary: Valid Session
                InvalidSession:
                  value:
                    isValid: false
                    user: null
                    message: Token is invalid or expired
                  summary: Invalid Session
          description: Session validation result
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              examples:
                NoTokens:
                  value:
                    statusCode: 400
                    message: At least one token (accessToken or refreshToken) must
                      be provided
                    error: BadRequest
                  summary: No Tokens
          description: Bad Request - No tokens provided or invalid request data
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/auth/verify-otp/:
    post:
      operationId: api_auth_verify_otp_create
      description: Verify OTP and get JWT tokens. Returns access token, refresh token,
        and user information.
      summary: Verify OTP
      tags:
      - Authentication
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/VerifyOTPRequest'
            examples:
              VerifyOTPRequest:
                value:
                  email: user@example.com
                  otp: '1234'
                  deviceInfo:
                    deviceName: iPhone 14
                    userAgent: Mozilla/5.0...
                    ip: 192.168.1.1
                summary: Verify OTP Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/VerifyOTPRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/VerifyOTPRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VerifyOTPResponse'
              examples:
                SuccessResponse:
                  value:
                    accessToken: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
                    refreshToken: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
                    expiresAt: '2024-12-24T16:00:00.000Z'
                    user:
                      id: 123e4567-e89b-12d3-a456-426614174000
                      email: user@example.com
                      name: John Doe
                      isVerified: true
                      isInboxCreated: false
                    isNewUser: false
                  summary: Success Response
          description: OTP verified successfully, tokens returned
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              examples:
                ValidationError:
                  value:
                    statusCode: 400
                    message:
                      email:
                      - This field is required.
                      otp:
                      - OTP must be numeric
                    error: BadRequest
                  summary: Validation Error
          description: Bad Request - Invalid request data
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              examples:
                InvalidOTP:
                  value:
                    statusCode: 401
                    message: Invalid or expired OTP
                    error: Unauthorized
                  summary: Invalid OTP
          description: Unauthorized - Invalid or expired OTP
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/directory/{id}/:
    get:
      operationId: api_directory_retrieve
      description: Get detailed information about a specific newsletter (public endpoint)
      summary: Get newsletter details
      parameters:
      - in: path
        name: id
        schema:
          type: string
        description: Newsletter ID
        required: true
      tags:
      - Directory
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NewsletterDetailsResponse'
              examples:
                SuccessResponse:
                  value:
                    id: 123e4567-e89b-12d3-a456-426614174000
                    name: Tech Newsletter
                    url: https://example.com
                    domain: example.com
                    author: John Doe
                    description: Weekly tech news
                    targetAudience: Developers
                    categories:
                    - Technology
                    - Programming
                    tags:
                    - tech
                    - coding
                  summary: Success Response
          description: Newsletter details retrieved successfully
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Newsletter not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/directory/categories/:
    get:
      operationId: api_directory_categories_retrieve
      description: Get all newsletter categories (public endpoint)
      summary: Get categories
      tags:
      - Directory
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      - {}
      responses:
        '200':
          description: List of categories
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/directory/recommendations/:
    get:
      operationId: api_directory_recommendations_retrieve
      description: Get personalized newsletter recommendations for the authenticated
        user
      summary: Get newsletter recommendations
      parameters:
      - in: query
        name: limit
        schema:
          type: integer
          default: 10
        description: 'Number of recommendations (default: 10)'
      tags:
      - Directory
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          description: Newsletter recommendations
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/directory/search/:
    get:
      operationId: api_directory_search_retrieve
      description: Search newsletters in the directory by query and/or category (public
        endpoint)
      summary: Search newsletters
      parameters:
      - in: query
        name: category
        schema:
          type: string
        description: Filter by category
      - in: query
        name: limit
        schema:
          type: integer
          default: 20
        description: 'Results per page (default: 20)'
      - in: query
        name: page
        schema:
          type: integer
          default: 1
        description: 'Page number (default: 1)'
      - in: query
        name: query
        schema:
          type: string
        description: Search query
      tags:
      - Directory
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NewsletterSearchResponse'
              examples:
                SuccessResponse:
                  value:
                    data:
                    - id: 123e4567-e89b-12d3-a456-426614174000
                      name: Tech Newsletter
                      url: https://example.com
                      domain: example.com
                      author: John Doe
                      description: Weekly tech news
                    total: 100
                    page: 1
                    limit: 20
                  summary: Success Response
          description: Newsletter search results
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/directory/search-categories-preview/:
    get:
      operationId: api_directory_search_categories_preview_retrieve
      description: Get preview of category search results (limited to 5 results for
        faster UI)
      summary: Search categories preview
      parameters:
      - in: query
        name: search
        schema:
          type: string
        description: Search query
      tags:
      - Directory
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      - {}
      responses:
        '200':
          description: Category preview results
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/directory/search-category-newsletters-preview/:
    get:
      operationId: api_directory_search_category_newsletters_preview_retrieve
      description: Get preview of newsletters in a category (limited to 5 results
        for faster UI)
      summary: Search category newsletters preview
      parameters:
      - in: query
        name: categoryname
        schema:
          type: string
        description: Category name
        required: true
      - in: query
        name: search
        schema:
          type: string
        description: Search query
      tags:
      - Directory
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      - {}
      responses:
        '200':
          description: Category newsletter preview results
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/directory/search-newsletters-preview/:
    get:
      operationId: api_directory_search_newsletters_preview_retrieve
      description: Get preview of newsletter search results (limited to 5 results
        for faster UI)
      summary: Search newsletters preview
      parameters:
      - in: query
        name: search
        schema:
          type: string
        description: Search query
      tags:
      - Directory
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      - {}
      responses:
        '200':
          description: Newsletter preview results
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/email/{email_id}/:
    get:
      operationId: api_email_retrieve
      description: Get detailed email information including body content, summary,
        and highlights
      summary: Get email by ID
      parameters:
      - in: path
        name: emailId
        schema:
          type: string
        description: Email UUID
        required: true
      - in: path
        name: email_id
        schema:
          type: string
        required: true
      tags:
      - Email
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmailDetail'
              examples:
                SuccessResponse:
                  value:
                    id: 123e4567-e89b-12d3-a456-426614174000
                    sender: newsletter@example.com
                    subject: Weekly Newsletter
                    contentPreview: This week we cover...
                    dateReceived: '2025-12-24T10:00:00Z'
                    wordsCount: 500
                    isRead: false
                    isFavorite: false
                    isReadLater: false
                    storagePath: emails/123e4567-e89b-12d3-a456-426614174000.html
                    readingProgress: 0
                    body: <html>Full email content...</html>
                    summary: This newsletter covers...
                    highlights:
                    - id: 123e4567-e89b-12d3-a456-426614174001
                      text: Important point
                      note: Remember this
                      selectionInfo:
                        start: 0
                        end: 15
                  summary: Success Response
          description: Email details retrieved successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Email not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/email/{email_id}/favorite/:
    patch:
      operationId: api_email_favorite_partial_update
      description: Toggle favorite status for an email
      summary: Toggle favorite
      parameters:
      - in: path
        name: emailId
        schema:
          type: string
        description: Email UUID
        required: true
      - in: path
        name: email_id
        schema:
          type: string
        required: true
      tags:
      - Email
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedToggleFavoriteRequest'
            examples:
              ToggleFavoriteRequest:
                value:
                  isFavorite: true
                summary: Toggle Favorite Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedToggleFavoriteRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedToggleFavoriteRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ToggleFavoriteResponse'
              examples:
                SuccessResponse:
                  value:
                    success: true
                  summary: Success Response
          description: Favorite status toggled successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Missing isFavorite
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Email not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/email/{email_id}/progress/:
    patch:
      operationId: api_email_progress_partial_update
      description: Update reading progress for an email (progress percentage, read
        status, time spent, words read). Also updates reading statistics.
      summary: Update email progress
      parameters:
      - in: path
        name: emailId
        schema:
          type: string
        description: Email UUID
        required: true
      - in: path
        name: email_id
        schema:
          type: string
        required: true
      tags:
      - Email
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedUpdateEmailProgressRequest'
            examples:
              UpdateProgressRequest:
                value:
                  progress: 75
                  isRead: true
                  timeSpent: 300
                  wordsRead: 500
                summary: Update Progress Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedUpdateEmailProgressRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedUpdateEmailProgressRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateProgressResponse'
              examples:
                SuccessResponse:
                  value:
                    success: true
                  summary: Success Response
          description: Progress updated successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Invalid input data
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Email not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/email/{email_id}/readlater/:
    patch:
      operationId: api_email_readlater_partial_update
      description: Toggle read later status for an email
      summary: Toggle read later
      parameters:
      - in: path
        name: emailId
        schema:
          type: string
        description: Email UUID
        required: true
      - in: path
        name: email_id
        schema:
          type: string
        required: true
      tags:
      - Email
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedToggleReadLaterRequest'
            examples:
              ToggleReadLaterRequest:
                value:
                  isReadLater: true
                summary: Toggle Read Later Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedToggleReadLaterRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedToggleReadLaterRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ToggleReadLaterResponse'
              examples:
                SuccessResponse:
                  value:
                    success: true
                  summary: Success Response
          description: Read later status toggled successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Missing isReadLater
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Email not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/email/{id}/delete/:
    delete:
      operationId: api_email_delete_destroy
      description: Permanently delete an email. This action cannot be undone. Also
        deletes the email from Azure storage if stored there.
      summary: Delete email permanently
      parameters:
      - in: path
        name: id
        schema:
          type: string
        description: Email UUID
        required: true
      tags:
      - Email
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeleteEmailResponse'
              examples:
                SuccessResponse:
                  value:
                    success: true
                  summary: Success Response
          description: Email deleted permanently
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Email not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/email/{id}/highlight/:
    post:
      operationId: api_email_highlight_create
      description: Add a highlight to an email
      summary: Add highlight
      parameters:
      - in: path
        name: id
        schema:
          type: string
        description: Email UUID
        required: true
      tags:
      - Email
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddHighlightRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/AddHighlightRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/AddHighlightRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HighlightResponse'
          description: Highlight added successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found
  /api/email/{id}/highlight/{highlightId}/:
    delete:
      operationId: api_email_highlight_destroy
      description: Delete a highlight from an email
      summary: Delete highlight
      parameters:
      - in: path
        name: highlightId
        schema:
          type: string
        description: Highlight UUID
        required: true
      - in: path
        name: id
        schema:
          type: string
        description: Email UUID
        required: true
      tags:
      - Email
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          description: Highlight deleted successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found
  /api/email/{id}/highlight/{highlightId}/note/:
    patch:
      operationId: api_email_highlight_note_partial_update
      description: Add or update a note for an existing highlight
      summary: Update highlight note
      parameters:
      - in: path
        name: highlightId
        schema:
          type: string
        description: Highlight UUID
        required: true
      - in: path
        name: id
        schema:
          type: string
        description: Email UUID
        required: true
      tags:
      - Email
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedUpdateHighlightNoteRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedUpdateHighlightNoteRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedUpdateHighlightNoteRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HighlightResponse'
          description: Note updated successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found
  /api/email/{id}/move/{folderName}/:
    patch:
      operationId: api_email_move_partial_update
      description: Move an email to a specific folder
      summary: Move email to folder
      parameters:
      - in: path
        name: folderName
        schema:
          type: string
        description: Target folder name
        required: true
      - in: path
        name: id
        schema:
          type: string
        description: Email UUID
        required: true
      tags:
      - Email
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          description: Email moved successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Email or folder not found
  /api/email/{id}/restore/:
    patch:
      operationId: api_email_restore_partial_update
      description: Restore an email from trash back to inbox
      summary: Restore email
      parameters:
      - in: path
        name: id
        schema:
          type: string
        description: Email UUID
        required: true
      tags:
      - Email
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestoreEmailResponse'
              examples:
                SuccessResponse:
                  value:
                    success: true
                  summary: Success Response
          description: Email restored successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Email not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/email/{id}/shared/:
    get:
      operationId: api_email_shared_retrieve
      description: Get a publicly shared email (no authentication required)
      summary: Get public email
      parameters:
      - in: path
        name: id
        schema:
          type: string
        description: Email UUID
        required: true
      tags:
      - Email
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmailDetail'
          description: Public email retrieved successfully
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Email not found or not shared
  /api/email/{id}/summary/:
    post:
      operationId: api_email_summary_create
      description: Generate AI summary for an email (streaming response)
      summary: Generate email summary
      parameters:
      - in: path
        name: id
        schema:
          type: string
        description: Email UUID
        required: true
      tags:
      - Email
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmailSummaryRequestRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/EmailSummaryRequestRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/EmailSummaryRequestRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          description: Summary generated successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Email not found
  /api/email/{id}/toggle-share/:
    patch:
      operationId: api_email_toggle_share_partial_update
      description: Toggle public sharing status for an email
      summary: Toggle public share
      parameters:
      - in: path
        name: id
        schema:
          type: string
        description: Email UUID
        required: true
      tags:
      - Email
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedToggleShareRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedToggleShareRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedToggleShareRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ToggleShareResponse'
          description: Share status toggled successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Email not found
  /api/email/{id}/trash/:
    patch:
      operationId: api_email_trash_partial_update
      description: Move an email to trash (soft delete). Email can be restored later.
      summary: Move email to trash
      parameters:
      - in: path
        name: id
        schema:
          type: string
        description: Email UUID
        required: true
      tags:
      - Email
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MoveToTrashResponse'
              examples:
                SuccessResponse:
                  value:
                    success: true
                  summary: Success Response
          description: Email moved to trash successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Email not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/email/favorites/:
    get:
      operationId: api_email_favorites_retrieve
      description: Get paginated list of favorite emails for the authenticated user
      summary: Get favorite emails
      parameters:
      - in: query
        name: filter
        schema:
          type: string
          default: latest
        description: 'Sort order: latest or oldest (default: latest)'
      - in: query
        name: page
        schema:
          type: integer
          default: 1
        description: 'Page number (default: 1)'
      tags:
      - Email
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/EmailListItem'
              examples:
                SuccessResponse:
                  value:
                  - - id: 123e4567-e89b-12d3-a456-426614174000
                      sender: newsletter@example.com
                      subject: Weekly Newsletter
                      contentPreview: This week we cover...
                      dateReceived: '2025-12-24T10:00:00Z'
                      wordsCount: 500
                      isRead: true
                      isFavorite: true
                      isReadLater: false
                  summary: Success Response
          description: List of favorite emails
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/email/folder/{folderName}/:
    get:
      operationId: api_email_folder_retrieve
      description: Get paginated list of emails in a folder
      summary: Get folder emails
      parameters:
      - in: query
        name: filter
        schema:
          type: string
          default: latest
        description: 'Sort order: latest or oldest (default: latest)'
      - in: path
        name: folderName
        schema:
          type: string
        description: Folder name
        required: true
      - in: query
        name: page
        schema:
          type: integer
          default: 1
        description: 'Page number (default: 1)'
      tags:
      - Email
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/EmailListItem'
          description: List of folder emails
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Folder not found
  /api/email/inbox/:
    get:
      operationId: api_email_inbox_retrieve
      description: Get paginated list of inbox emails for the authenticated user.
        Can filter by read status and sort by latest/oldest.
      summary: Get inbox emails
      parameters:
      - in: query
        name: filter
        schema:
          type: string
          default: latest
        description: 'Sort order: latest or oldest (default: latest)'
      - in: query
        name: isRead
        schema:
          type: string
        description: 'Filter by read status: "true" for read only, "false" for unread
          only, omit for all emails'
      - in: query
        name: page
        schema:
          type: integer
          default: 1
        description: 'Page number (default: 1)'
      tags:
      - Email
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/EmailListItem'
              examples:
                SuccessResponse-WithEmails:
                  value:
                  - - id: 123e4567-e89b-12d3-a456-426614174000
                      sender: newsletter@example.com
                      subject: Weekly Newsletter
                      contentPreview: This week we cover...
                      dateReceived: '2025-12-24T10:00:00Z'
                      wordsCount: 500
                      isRead: false
                      isFavorite: false
                      isReadLater: false
                  summary: Success Response - With Emails
                SuccessResponse-NoEmails:
                  value:
                  - pendingNewsletters: 5
                    emailsCount: 0
                  summary: Success Response - No Emails
          description: List of inbox emails or object with pendingNewsletters if no
            emails
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/email/permanently-delete-selected/:
    delete:
      operationId: api_email_permanently_delete_selected_destroy
      description: Permanently delete multiple emails. Cannot be undone.
      summary: Permanently delete selected emails
      tags:
      - Email
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BulkOperationResponse'
          description: Emails deleted successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
  /api/email/read-later/:
    get:
      operationId: api_email_read_later_retrieve
      description: Get paginated list of read later emails for the authenticated user
      summary: Get read later emails
      parameters:
      - in: query
        name: filter
        schema:
          type: string
          default: latest
        description: 'Sort order: latest or oldest (default: latest)'
      - in: query
        name: page
        schema:
          type: integer
          default: 1
        description: 'Page number (default: 1)'
      tags:
      - Email
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/EmailListItem'
              examples:
                SuccessResponse:
                  value:
                  - - id: 123e4567-e89b-12d3-a456-426614174000
                      sender: newsletter@example.com
                      subject: Weekly Newsletter
                      contentPreview: This week we cover...
                      dateReceived: '2025-12-24T10:00:00Z'
                      wordsCount: 500
                      isRead: false
                      isFavorite: false
                      isReadLater: true
                  summary: Success Response
          description: List of read later emails
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/email/restore-selected/:
    patch:
      operationId: api_email_restore_selected_partial_update
      description: Restore multiple emails from trash back to inbox
      summary: Restore selected emails
      tags:
      - Email
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedBulkRestoreRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedBulkRestoreRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedBulkRestoreRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BulkOperationResponse'
          description: Emails restored successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
  /api/email/search/emails/:
    get:
      operationId: api_email_search_emails_retrieve
      description: Search emails by query (searches subject, sender, and content preview)
      summary: Search emails
      parameters:
      - in: query
        name: page
        schema:
          type: integer
          default: 1
        description: 'Page number (default: 1)'
      - in: query
        name: q
        schema:
          type: string
        description: Search query
        required: true
      tags:
      - Email
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmailSearchResponse'
          description: Search results
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
  /api/email/trash/:
    get:
      operationId: api_email_trash_retrieve
      description: Get paginated list of emails in trash
      summary: Get trash emails
      parameters:
      - in: query
        name: filter
        schema:
          type: string
          default: latest
        description: 'Sort order: latest or oldest (default: latest)'
      - in: query
        name: page
        schema:
          type: integer
          default: 1
        description: 'Page number (default: 1)'
      tags:
      - Email
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/EmailListItem'
          description: List of trash emails
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
  /api/email/trash/empty/:
    delete:
      operationId: api_email_trash_empty_destroy
      description: Permanently delete all emails in trash. Cannot be undone.
      summary: Empty trash
      tags:
      - Email
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BulkOperationResponse'
          description: Trash emptied successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
  /api/gmail/accounts/:
    get:
      operationId: api_gmail_accounts_retrieve
      description: Get all connected Gmail accounts for the authenticated user
      summary: Get Gmail accounts
      tags:
      - Gmail
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/GmailAccount'
              examples:
                SuccessResponse:
                  value:
                  - - id: 123e4567-e89b-12d3-a456-426614174000
                      email: user@gmail.com
                      needsReauth: false
                      lastSyncTime: '2025-12-24T10:00:00Z'
                  summary: Success Response
          description: List of Gmail accounts
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/gmail/connect/:
    post:
      operationId: api_gmail_connect_create
      description: Connect a Gmail account using OAuth tokens
      summary: Connect Gmail account
      tags:
      - Gmail
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConnectGmailRequest'
            examples:
              ConnectGmailRequest:
                value:
                  email: user@gmail.com
                  accessToken: ya29.a0AfH6SMC...
                  refreshToken: 1//0g...
                summary: Connect Gmail Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ConnectGmailRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ConnectGmailRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConnectGmailResponse'
              examples:
                SuccessResponse:
                  value:
                    id: 123e4567-e89b-12d3-a456-426614174000
                    email: user@gmail.com
                    connectedAt: '2025-12-24T10:00:00Z'
                  summary: Success Response
          description: Gmail account connected successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Missing required fields
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/gmail/disconnect/:
    post:
      operationId: api_gmail_disconnect_create
      description: Disconnect a Gmail account
      summary: Disconnect Gmail account
      tags:
      - Gmail
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DisconnectGmailRequest'
            examples:
              DisconnectGmailRequest:
                value:
                  accountId: 123e4567-e89b-12d3-a456-426614174000
                summary: Disconnect Gmail Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/DisconnectGmailRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/DisconnectGmailRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DisconnectGmailResponse'
              examples:
                SuccessResponse:
                  value:
                    success: true
                  summary: Success Response
          description: Gmail account disconnected successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Missing accountId
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Account not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/gmail/sync/:
    post:
      operationId: api_gmail_sync_create
      description: Sync emails from a connected Gmail account
      summary: Sync Gmail emails
      tags:
      - Gmail
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SyncGmailRequest'
            examples:
              SyncGmailRequest:
                value:
                  accountId: 123e4567-e89b-12d3-a456-426614174000
                summary: Sync Gmail Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/SyncGmailRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/SyncGmailRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SyncGmailResponse'
              examples:
                SuccessResponse:
                  value:
                    success: true
                    lastSyncTime: '2025-12-24T10:00:00Z'
                  summary: Success Response
          description: Gmail emails synced successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Missing accountId
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Account not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/integration/:
    get:
      operationId: api_integration_retrieve
      description: Get all active integrations for the authenticated user
      summary: Get user integrations
      tags:
      - Integration
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Integration'
              examples:
                SuccessResponse:
                  value:
                  - - id: 123e4567-e89b-12d3-a456-426614174000
                      type: POCKET
                      connectedAt: '2025-12-24T10:00:00Z'
                      lastUsedAt: '2025-12-24T10:00:00Z'
                  summary: Success Response
          description: List of user integrations
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/integration/connect/:
    post:
      operationId: api_integration_connect_create
      description: Connect an external service integration (Pocket, Notion, or Evernote)
        using OAuth tokens
      summary: Connect integration
      tags:
      - Integration
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConnectIntegrationRequest'
            examples:
              ConnectIntegrationRequest:
                value:
                  type: POCKET
                  accessToken: abc123...
                  refreshToken: xyz789...
                summary: Connect Integration Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ConnectIntegrationRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ConnectIntegrationRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConnectIntegrationResponse'
              examples:
                SuccessResponse:
                  value:
                    id: 123e4567-e89b-12d3-a456-426614174000
                    type: POCKET
                    connectedAt: '2025-12-24T10:00:00Z'
                  summary: Success Response
          description: Integration connected successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Missing required fields
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/integration/disconnect/:
    post:
      operationId: api_integration_disconnect_create
      description: Disconnect an external service integration
      summary: Disconnect integration
      tags:
      - Integration
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DisconnectIntegrationRequest'
            examples:
              DisconnectIntegrationRequest:
                value:
                  type: POCKET
                summary: Disconnect Integration Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/DisconnectIntegrationRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/DisconnectIntegrationRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DisconnectIntegrationResponse'
              examples:
                SuccessResponse:
                  value:
                    success: true
                  summary: Success Response
          description: Integration disconnected successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Missing type
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Integration not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/newsletter-profile/v1/posts/:
    get:
      operationId: api_newsletter_profile_v1_posts_list
      description: Get a list of newsletter posts. Non-staff users only see posts
        for their subscribed newsletters.
      summary: List newsletter posts
      parameters:
      - name: ordering
        required: false
        in: query
        description: Which field to use when ordering the results.
        schema:
          type: string
      - in: query
        name: page
        schema:
          type: integer
        description: Page number
      - in: query
        name: page_size
        schema:
          type: integer
        description: Results per page
      - name: search
        required: false
        in: query
        description: A search term.
        schema:
          type: string
      tags:
      - Newsletter Post
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedNewsletterPostList'
          description: List of newsletter posts
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
    post:
      operationId: api_newsletter_profile_v1_posts_create
      description: Create a new newsletter post (typically done via sync)
      summary: Create newsletter post
      tags:
      - Newsletter Post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NewsletterPostRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/NewsletterPostRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/NewsletterPostRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NewsletterPost'
          description: Newsletter post created successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Validation error
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/newsletter-profile/v1/posts/{id}/:
    get:
      operationId: api_newsletter_profile_v1_posts_retrieve
      description: Get a specific newsletter post by ID
      summary: Get newsletter post
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this newsletter post.
        required: true
      tags:
      - Newsletter Post
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NewsletterPost'
          description: Newsletter post retrieved successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Post not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
    put:
      operationId: api_newsletter_profile_v1_posts_update
      description: Full update of a newsletter post (all fields required)
      summary: Update newsletter post
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this newsletter post.
        required: true
      tags:
      - Newsletter Post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NewsletterPostUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/NewsletterPostUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/NewsletterPostUpdateRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NewsletterPost'
          description: Newsletter post updated successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Validation error
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Post not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
    patch:
      operationId: api_newsletter_profile_v1_posts_partial_update
      description: Partial update of a newsletter post (e.g., mark as read, update
        reading progress)
      summary: Partially update newsletter post
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this newsletter post.
        required: true
      tags:
      - Newsletter Post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedNewsletterPostUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedNewsletterPostUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedNewsletterPostUpdateRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NewsletterPost'
          description: Newsletter post updated successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Validation error
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Post not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
    delete:
      operationId: api_newsletter_profile_v1_posts_destroy
      description: Delete a newsletter post
      summary: Delete newsletter post
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this newsletter post.
        required: true
      tags:
      - Newsletter Post
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '204':
          description: Newsletter post deleted successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Post not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/newsletter-profile/v1/posts/newsletter/{newsletter_url}/:
    get:
      operationId: api_newsletter_profile_v1_posts_newsletter_retrieve
      description: Get all posts for a specific newsletter URL with optional filtering
      summary: Get posts by newsletter URL
      parameters:
      - in: query
        name: is_read
        schema:
          type: string
        description: 'Filter by read status: true or false'
      - in: query
        name: limit
        schema:
          type: integer
          default: 100
        description: 'Maximum number of posts to return (default: 100)'
      - in: path
        name: newsletter_url
        schema:
          type: string
        description: Newsletter URL
        required: true
      - in: query
        name: skip
        schema:
          type: integer
          default: 0
        description: 'Number of posts to skip (default: 0)'
      tags:
      - Newsletter Post
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedNewsletterPostList'
          description: List of newsletter posts
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/newsletter-profile/v1/posts/preference/{preference_id}/:
    get:
      operationId: api_newsletter_profile_v1_posts_preference_retrieve
      description: Get all posts for a specific newsletter preference
      summary: Get posts by preference
      parameters:
      - in: query
        name: limit
        schema:
          type: integer
          default: 100
        description: 'Maximum number of posts to return (default: 100)'
      - in: path
        name: preference_id
        schema:
          type: string
          format: uuid
        description: Preference UUID
        required: true
      - in: query
        name: skip
        schema:
          type: integer
          default: 0
        description: 'Number of posts to skip (default: 0)'
      tags:
      - Newsletter Post
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedNewsletterPostList'
          description: List of newsletter posts
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '403':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Forbidden - Permission denied
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Preference not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/newsletter-profile/v1/posts/sync/:
    post:
      operationId: api_newsletter_profile_v1_posts_sync_create
      description: Sync newsletter posts from a website URL. Fetches latest posts
        and creates/updates them in the database.
      summary: Sync newsletter posts
      tags:
      - Newsletter Post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NewsletterSyncRequestRequest'
            examples:
              SyncNewsletterRequest:
                value:
                  newsletter_url: https://example.com
                  preference_id: 123e4567-e89b-12d3-a456-426614174000
                  force_refresh: false
                summary: Sync Newsletter Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/NewsletterSyncRequestRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/NewsletterSyncRequestRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NewsletterSyncResponse'
              examples:
                SuccessResponse:
                  value:
                    synced_count: 10
                    created_count: 5
                    updated_count: 5
                    newsletter_url: https://example.com
                  summary: Success Response
          description: Newsletter posts synced successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Invalid URL or validation error
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/newsletter-profile/v1/preferences/:
    get:
      operationId: api_newsletter_profile_v1_preferences_list
      description: Get a list of newsletter preferences. Non-staff users only see
        preferences for their own profiles.
      summary: List newsletter preferences
      parameters:
      - name: ordering
        required: false
        in: query
        description: Which field to use when ordering the results.
        schema:
          type: string
      - in: query
        name: page
        schema:
          type: integer
        description: Page number
      - in: query
        name: page_size
        schema:
          type: integer
        description: Results per page
      - name: search
        required: false
        in: query
        description: A search term.
        schema:
          type: string
      tags:
      - Newsletter Preference
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedNewsletterPreferenceList'
          description: List of newsletter preferences
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
    post:
      operationId: api_newsletter_profile_v1_preferences_create
      description: Create a new newsletter preference (subscription)
      summary: Create newsletter preference
      tags:
      - Newsletter Preference
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NewsletterPreferenceCreateRequest'
            examples:
              CreatePreferenceRequest:
                value:
                  profile: 123e4567-e89b-12d3-a456-426614174001
                  newsletter_id: 123e4567-e89b-12d3-a456-426614174002
                  is_subscribed: true
                  is_favorite: false
                summary: Create Preference Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/NewsletterPreferenceCreateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/NewsletterPreferenceCreateRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NewsletterPreference'
              examples:
                SuccessResponse:
                  value:
                    id: 123e4567-e89b-12d3-a456-426614174000
                    profile: 123e4567-e89b-12d3-a456-426614174001
                    newsletter_id: 123e4567-e89b-12d3-a456-426614174002
                    newsletter_name: Tech Newsletter
                    newsletter_url: https://example.com
                    is_subscribed: true
                    is_favorite: false
                    subscribed_at: '2025-12-24T10:00:00Z'
                  summary: Success Response
          description: Newsletter preference created successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Preference already exists or validation error
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/newsletter-profile/v1/preferences/{id}/:
    get:
      operationId: api_newsletter_profile_v1_preferences_retrieve
      description: Get a specific newsletter preference by ID
      summary: Get newsletter preference
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this newsletter preference.
        required: true
      tags:
      - Newsletter Preference
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NewsletterPreference'
          description: Newsletter preference retrieved successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Preference not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
    put:
      operationId: api_newsletter_profile_v1_preferences_update
      description: Full update of a newsletter preference (all fields required)
      summary: Update newsletter preference
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this newsletter preference.
        required: true
      tags:
      - Newsletter Preference
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NewsletterPreferenceCreateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/NewsletterPreferenceCreateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/NewsletterPreferenceCreateRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NewsletterPreference'
          description: Newsletter preference updated successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Validation error
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Preference not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
    patch:
      operationId: api_newsletter_profile_v1_preferences_partial_update
      description: Partial update of a newsletter preference (only provided fields
        are updated)
      summary: Partially update newsletter preference
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this newsletter preference.
        required: true
      tags:
      - Newsletter Preference
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedNewsletterPreferenceCreateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedNewsletterPreferenceCreateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedNewsletterPreferenceCreateRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NewsletterPreference'
          description: Newsletter preference updated successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Validation error
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Preference not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
    delete:
      operationId: api_newsletter_profile_v1_preferences_destroy
      description: Delete a newsletter preference (unsubscribe)
      summary: Delete newsletter preference
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this newsletter preference.
        required: true
      tags:
      - Newsletter Preference
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '204':
          description: Newsletter preference deleted successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Preference not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/newsletter-profile/v1/preferences/profile/{profile_id}/:
    get:
      operationId: api_newsletter_profile_v1_preferences_profile_retrieve
      description: Get all newsletter preferences for a specific profile
      summary: Get preferences by profile
      parameters:
      - in: path
        name: profile_id
        schema:
          type: string
          format: uuid
        description: Profile UUID
        required: true
      tags:
      - Newsletter Preference
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedNewsletterPreferenceList'
          description: List of newsletter preferences
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '403':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Forbidden - Permission denied
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Profile not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/newsletter-profile/v1/preferences/profile/{profile_id}/subscribed/:
    get:
      operationId: api_newsletter_profile_v1_preferences_profile_subscribed_retrieve
      description: Get all subscribed newsletter preferences for a specific profile
      summary: Get subscribed preferences by profile
      parameters:
      - in: path
        name: profile_id
        schema:
          type: string
          format: uuid
        description: Profile UUID
        required: true
      tags:
      - Newsletter Preference
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedNewsletterPreferenceList'
          description: List of subscribed newsletter preferences
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '403':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Forbidden - Permission denied
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Profile not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/newsletter-profile/v1/profiles/:
    get:
      operationId: api_newsletter_profile_v1_profiles_list
      description: Get a list of newsletter profiles. Non-staff users only see their
        own profiles.
      summary: List newsletter profiles
      parameters:
      - name: ordering
        required: false
        in: query
        description: Which field to use when ordering the results.
        schema:
          type: string
      - in: query
        name: page
        schema:
          type: integer
        description: Page number
      - in: query
        name: page_size
        schema:
          type: integer
        description: Results per page
      - name: search
        required: false
        in: query
        description: A search term.
        schema:
          type: string
      tags:
      - Newsletter Profile
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedNewsletterProfileList'
          description: List of newsletter profiles
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
    post:
      operationId: api_newsletter_profile_v1_profiles_create
      description: Create a new newsletter profile for a user
      summary: Create newsletter profile
      tags:
      - Newsletter Profile
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NewsletterProfileCreateRequest'
            examples:
              CreateProfileRequest:
                value:
                  user: 123e4567-e89b-12d3-a456-426614174001
                  email: user@example.com
                  display_name: John Doe
                  email_notifications: true
                  push_notifications: true
                summary: Create Profile Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/NewsletterProfileCreateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/NewsletterProfileCreateRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NewsletterProfile'
              examples:
                SuccessResponse:
                  value:
                    id: 123e4567-e89b-12d3-a456-426614174000
                    user: 123e4567-e89b-12d3-a456-426614174001
                    email: user@example.com
                    display_name: John Doe
                    total_subscriptions: 0
                    is_active: true
                    created_at: '2025-12-24T10:00:00Z'
                  summary: Success Response
          description: Newsletter profile created successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Profile already exists or validation error
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/newsletter-profile/v1/profiles/{id}/:
    get:
      operationId: api_newsletter_profile_v1_profiles_retrieve
      description: Get a specific newsletter profile by ID
      summary: Get newsletter profile
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this newsletter profile.
        required: true
      tags:
      - Newsletter Profile
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NewsletterProfile'
          description: Newsletter profile retrieved successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Profile not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
    put:
      operationId: api_newsletter_profile_v1_profiles_update
      description: Full update of a newsletter profile (all fields required)
      summary: Update newsletter profile
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this newsletter profile.
        required: true
      tags:
      - Newsletter Profile
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NewsletterProfileCreateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/NewsletterProfileCreateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/NewsletterProfileCreateRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NewsletterProfile'
          description: Newsletter profile updated successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Validation error
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Profile not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
    patch:
      operationId: api_newsletter_profile_v1_profiles_partial_update
      description: Partial update of a newsletter profile (only provided fields are
        updated)
      summary: Partially update newsletter profile
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this newsletter profile.
        required: true
      tags:
      - Newsletter Profile
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedNewsletterProfileCreateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedNewsletterProfileCreateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedNewsletterProfileCreateRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NewsletterProfile'
          description: Newsletter profile updated successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Validation error
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Profile not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
    delete:
      operationId: api_newsletter_profile_v1_profiles_destroy
      description: Delete a newsletter profile. This will also delete associated preferences.
      summary: Delete newsletter profile
      parameters:
      - in: path
        name: id
        schema:
          type: string
          format: uuid
        description: A UUID string identifying this newsletter profile.
        required: true
      tags:
      - Newsletter Profile
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '204':
          description: Newsletter profile deleted successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Profile not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/newsletter-profile/v1/profiles/user/{user_id}/:
    get:
      operationId: api_newsletter_profile_v1_profiles_user_retrieve
      description: Get newsletter profile for a specific user
      summary: Get profile by user ID
      parameters:
      - in: path
        name: user_id
        schema:
          type: string
          format: uuid
        description: User UUID
        required: true
      tags:
      - Newsletter Profile
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NewsletterProfile'
          description: Newsletter profile retrieved successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Profile not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/reading/logs/:
    get:
      operationId: api_reading_logs_retrieve
      description: Get paginated reading logs for the authenticated user
      summary: Get reading logs
      parameters:
      - in: query
        name: limit
        schema:
          type: integer
          default: 20
        description: 'Results per page (default: 20)'
      - in: query
        name: page
        schema:
          type: integer
          default: 1
        description: 'Page number (default: 1)'
      tags:
      - Reading Logs
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReadingLogsResponse'
              examples:
                SuccessResponse:
                  value:
                    data:
                    - id: 123e4567-e89b-12d3-a456-426614174000
                      totalEmails: 10
                      todayRead: 5
                      totalTimeSpent: 1800
                      totalWordsRead: 3000
                      createdAt: '2025-12-24T10:00:00Z'
                    page: 1
                    limit: 20
                  summary: Success Response
          description: Reading logs retrieved successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
    post:
      operationId: api_reading_logs_create
      description: Create a reading log entry to track reading time and words read
        for an email
      summary: Create reading log
      tags:
      - Reading Logs
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateReadingLogRequest'
            examples:
              CreateReadingLogRequest:
                value:
                  emailId: 123e4567-e89b-12d3-a456-426614174000
                  timeSpent: 300
                  wordsRead: 500
                summary: Create Reading Log Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/CreateReadingLogRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/CreateReadingLogRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateReadingLogResponse'
              examples:
                SuccessResponse:
                  value:
                    id: 123e4567-e89b-12d3-a456-426614174000
                    totalTimeSpent: 300
                    totalWordsRead: 500
                    todayRead: 1
                    createdAt: '2025-12-24T10:00:00Z'
                  summary: Success Response
          description: Reading log created successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Invalid input
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/reading/logs/range/:
    get:
      operationId: api_reading_logs_range_retrieve
      description: Get reading logs for a specific date range with statistics
      summary: Get reading logs for date range
      parameters:
      - in: query
        name: endDate
        schema:
          type: string
        description: End date in YYYY-MM-DD format
        required: true
      - in: query
        name: startDate
        schema:
          type: string
        description: Start date in YYYY-MM-DD format
        required: true
      tags:
      - Reading Logs
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          description: Reading logs for date range retrieved successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Invalid date format
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - User not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/reading/statistics/:
    get:
      operationId: api_reading_statistics_retrieve
      description: Get comprehensive reading statistics for the authenticated user
      summary: Get reading statistics
      tags:
      - Reading Logs
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReadingStatisticsResponse'
              examples:
                SuccessResponse:
                  value:
                    streakCount: 5
                    longestStreak: 10
                    todayTimeSpent: 300
                    todayWordsRead: 500
                    totalTimeSpent: 3600
                    totalWordsRead: 50000
                    totalDays: 30
                  summary: Success Response
          description: Reading statistics retrieved successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - User not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/reading/streak/:
    get:
      operationId: api_reading_streak_retrieve
      description: Get the current reading streak information for the authenticated
        user
      summary: Get reading streak
      tags:
      - Streak
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StreakResponse'
              examples:
                SuccessResponse:
                  value:
                    count: 5
                    isToday: true
                  summary: Success Response
          description: Streak information retrieved successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - User not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/reading/streak/increment/:
    post:
      operationId: api_reading_streak_increment_create
      description: Increment the user's reading streak for today (idempotent - safe
        to call multiple times)
      summary: Increment reading streak
      tags:
      - Streak
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IncrementStreakResponse'
              examples:
                SuccessResponse:
                  value:
                    count: 5
                    isToday: true
                  summary: Success Response
          description: Streak incremented successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - User not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/recommendation/events/batch/:
    post:
      operationId: api_recommendation_events_batch_create
      description: Ingest multiple user events in a single request for better performance
      summary: Ingest batch events
      tags:
      - Recommendation
      requestBody:
        content:
          type:
            schema:
              type: object
              additionalProperties: {}
              description: Unspecified request body
          properties:
            schema:
              events:
                type: array
                items:
                  type: object
                description: Array of event objects
          required:
            schema:
              type: object
              additionalProperties: {}
              description: Unspecified request body
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BatchEventResponse'
              examples:
                SuccessResponse:
                  value:
                    created: 5
                    errors: 0
                    events:
                    - id: 123e4567-e89b-12d3-a456-426614174000
                      event_type: open
                      item_id: 123e4567-e89b-12d3-a456-426614174001
                      created_at: '2025-12-24T10:00:00Z'
                    error_details: []
                  summary: Success Response
          description: Batch events ingested successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Invalid events format
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/recommendation/events/ingest/:
    post:
      operationId: api_recommendation_events_ingest_create
      description: Ingest a single user event for recommendation engine (e.g., open,
        click, follow, like)
      summary: Ingest user event
      tags:
      - Recommendation
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserEventCreateRequest'
            examples:
              IngestEventRequest:
                value:
                  event_type: open
                  item_id: 123e4567-e89b-12d3-a456-426614174001
                  item_type: newsletter
                  device_type: web
                  app_section: inbox
                summary: Ingest Event Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UserEventCreateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UserEventCreateRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserEventResponse'
              examples:
                SuccessResponse:
                  value:
                    id: 123e4567-e89b-12d3-a456-426614174000
                    event_type: open
                    item_id: 123e4567-e89b-12d3-a456-426614174001
                    item_type: newsletter
                    value: null
                    metadata: {}
                    device_type: web
                    app_section: inbox
                    session_id: session-123
                    created_at: '2025-12-24T10:00:00Z'
                  summary: Success Response
          description: User event ingested successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Validation error
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/recommendation/recommendations/:
    get:
      operationId: api_recommendation_recommendations_list
      description: Get recommendations. Supports type=trending query parameter for
        trending recommendations.
      summary: List recommendations
      parameters:
      - in: query
        name: k
        schema:
          type: integer
          default: 20
        description: 'Number of recommendations (alias for limit, default: 20)'
      - in: query
        name: limit
        schema:
          type: integer
          default: 20
        description: 'Number of recommendations (default: 20)'
      - in: query
        name: type
        schema:
          type: string
        description: 'Type of recommendations: trending (default: user recommendations)'
      tags:
      - Recommendation
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          description: Recommendations retrieved successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/recommendation/recommendations/category/{category_id}/:
    get:
      operationId: api_recommendation_recommendations_category_retrieve
      description: Get recommendations based on a specific newsletter category
      summary: Get category-based recommendations
      parameters:
      - in: path
        name: category_id
        schema:
          type: string
          format: uuid
        description: Category UUID
        required: true
      - in: query
        name: k
        schema:
          type: integer
          default: 20
        description: 'Number of recommendations (default: 20)'
      tags:
      - Recommendation
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          description: Category-based recommendations retrieved successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Category not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/recommendation/recommendations/explain/{user_id}/{item_id}/:
    get:
      operationId: api_recommendation_recommendations_explain_retrieve
      description: Get explanation for why a specific item was recommended to a user,
        including contributing factors and scores
      summary: Explain recommendation
      parameters:
      - in: path
        name: item_id
        schema:
          type: string
          format: uuid
        description: Item UUID
        required: true
      - in: path
        name: user_id
        schema:
          type: string
          format: uuid
        description: User UUID
        required: true
      tags:
      - Recommendation
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RecommendationExplanation'
              examples:
                SuccessResponse:
                  value:
                    id: 123e4567-e89b-12d3-a456-426614174000
                    item_id: 123e4567-e89b-12d3-a456-426614174001
                    explanation_text: Recommended based on personalized preferences
                    contributing_factors:
                      personal_score: 0.4
                      popularity_score: 0.4
                      similarity_score: 0.0
                      freshness_score: 0.2
                    model_version: v1
                    recommendation_mode: personalized
                    created_at: '2025-12-24T10:00:00Z'
                  summary: Success Response
          description: Recommendation explanation retrieved successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '403':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Forbidden - Permission denied
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Recommendation or user not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/recommendation/recommendations/trending/:
    get:
      operationId: api_recommendation_recommendations_trending_retrieve
      description: Get trending newsletter recommendations based on recent user activity
      summary: Get trending recommendations
      parameters:
      - in: query
        name: k
        schema:
          type: integer
          default: 20
        description: 'Number of recommendations (default: 20)'
      - in: query
        name: period
        schema:
          type: string
          default: 24h
        description: 'Time period: 24h, 7d, 30d (default: 24h)'
      tags:
      - Recommendation
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          description: Trending recommendations retrieved successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/recommendation/recommendations/user/{user_id}/:
    get:
      operationId: api_recommendation_recommendations_user_retrieve
      description: Get personalized recommendations for a specific user based on their
        preferences and behavior
      summary: Get personalized recommendations for a user
      parameters:
      - in: query
        name: k
        schema:
          type: integer
          default: 20
        description: 'Number of recommendations (default: 20)'
      - in: query
        name: mode
        schema:
          type: string
          default: personalized
        description: 'Recommendation mode: personalized or popularity (default: personalized)'
      - in: path
        name: user_id
        schema:
          type: string
          format: uuid
        description: User UUID
        required: true
      tags:
      - Recommendation
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Recommendation'
              examples:
                SuccessResponse:
                  value:
                  - - id: 123e4567-e89b-12d3-a456-426614174000
                      item_id: 123e4567-e89b-12d3-a456-426614174001
                      item_type: newsletter
                      item_name: Tech Newsletter
                      item_url: https://example.com
                      score: 0.85
                      rank: 1
                      personal_score: 0.4
                      popularity_score: 0.4
                      freshness_score: 0.2
                      reason: Recommended based on personalized preferences
                      model_version: v1
                      created_at: '2025-12-24T10:00:00Z'
                  summary: Success Response
          description: Personalized recommendations retrieved successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '403':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Forbidden - Permission denied
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/search/emails/search/:
    get:
      operationId: api_search_emails_search_retrieve
      description: Search user's emails with filters for read status, favorite status,
        and sender
      summary: Search emails
      parameters:
      - in: query
        name: is_favorite
        schema:
          type: string
        description: 'Filter by favorite status: true or false'
      - in: query
        name: is_read
        schema:
          type: string
        description: 'Filter by read status: true or false'
      - in: query
        name: page
        schema:
          type: integer
          default: 1
        description: 'Page number (default: 1)'
      - in: query
        name: page_size
        schema:
          type: integer
          default: 20
        description: 'Results per page (default: 20)'
      - in: query
        name: q
        schema:
          type: string
        description: Search query
      - in: query
        name: sender
        schema:
          type: string
        description: Filter by sender email
      tags:
      - Search
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmailSearchResponse'
              examples:
                SuccessResponse:
                  value:
                    results:
                    - id: 123e4567-e89b-12d3-a456-426614174000
                      subject: Weekly Newsletter
                      sender: newsletter@example.com
                      date_received: '2025-12-24T10:00:00Z'
                      is_read: false
                      is_favorite: false
                      reading_progress: 0
                      score: 0.85
                    total: 50
                    page: 1
                    page_size: 20
                  summary: Success Response
          description: Email search results
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/search/posts/search/:
    get:
      operationId: api_search_posts_search_retrieve
      description: |-
        Search newsletter posts

        Query params:
        - q: Search query
        - newsletter_url: Filter by newsletter URL
        - is_read: Filter by read status
        - page: Page number
        - page_size: Results per page
      tags:
      - api
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          description: No response body
  /api/search/providers/search/:
    get:
      operationId: api_search_providers_search_retrieve
      description: Search newsletter providers in the public directory with filters
        and faceting (public endpoint)
      summary: Search newsletter providers
      parameters:
      - in: query
        name: categories
        schema:
          type: string
        description: Filter by categories (comma-separated)
      - in: query
        name: language
        schema:
          type: string
        description: Filter by language
      - in: query
        name: page
        schema:
          type: integer
          default: 1
        description: 'Page number (default: 1)'
      - in: query
        name: page_size
        schema:
          type: integer
          default: 20
        description: 'Results per page (default: 20)'
      - in: query
        name: q
        schema:
          type: string
        description: Search query
      - in: query
        name: tags
        schema:
          type: string
        description: Filter by tags (comma-separated)
      tags:
      - Search
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NewsletterProviderSearchResponse'
              examples:
                SuccessResponse:
                  value:
                    results:
                    - id: 123e4567-e89b-12d3-a456-426614174000
                      name: Tech Newsletter
                      description: Weekly tech news
                      url: https://example.com
                      categories:
                      - Technology
                      tags:
                      - tech
                      - coding
                      score: 0.95
                    total: 100
                    page: 1
                    page_size: 20
                    aggregations:
                      categories:
                      - key: Technology
                        doc_count: 50
                      tags:
                      - key: tech
                        doc_count: 30
                  summary: Success Response
          description: Newsletter provider search results with aggregations
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/search/unified/unified/:
    get:
      operationId: api_search_unified_unified_retrieve
      description: Search across all content types (newsletters, emails, posts, providers)
        with a single query
      summary: Unified search
      parameters:
      - in: query
        name: page
        schema:
          type: integer
          default: 1
        description: 'Page number (default: 1)'
      - in: query
        name: page_size
        schema:
          type: integer
          default: 20
        description: 'Results per page (default: 20)'
      - in: query
        name: q
        schema:
          type: string
        description: Search query
        required: true
      - in: query
        name: types
        schema:
          type: string
        description: 'Comma-separated list of types: newsletters, emails, posts, providers'
      tags:
      - Search
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnifiedSearchResponse'
              examples:
                SuccessResponse:
                  value:
                    results:
                    - type: provider
                      id: 123e4567-e89b-12d3-a456-426614174000
                      name: Tech Newsletter
                      description: Weekly tech news
                      url: https://example.com
                      score: 0.95
                    - type: email
                      id: 123e4567-e89b-12d3-a456-426614174001
                      subject: Weekly Newsletter
                      sender: newsletter@example.com
                      score: 0.85
                    total: 50
                    page: 1
                    page_size: 20
                    has_next: true
                    has_previous: false
                  summary: Success Response
          description: Search results across all content types
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Missing query
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/subscription/:
    get:
      operationId: api_subscription_retrieve
      description: Get the current subscription for the authenticated user
      summary: Get user subscription
      tags:
      - Subscription
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserSubscription'
              examples:
                SuccessResponse:
                  value:
                    id: 123e4567-e89b-12d3-a456-426614174000
                    planId: 123e4567-e89b-12d3-a456-426614174001
                    planName: Pro
                    status: ACTIVE
                    currentPeriodStart: '2025-12-01T00:00:00Z'
                    currentPeriodEnd: '2026-01-01T00:00:00Z'
                    cancelAtPeriodEnd: false
                  summary: Success Response
          description: User subscription retrieved successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - No subscription found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/subscription/cancel/:
    post:
      operationId: api_subscription_cancel_create
      description: Cancel the user's current subscription (cancels at period end)
      summary: Cancel subscription
      tags:
      - Subscription
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CancelSubscriptionResponse'
              examples:
                SuccessResponse:
                  value:
                    success: true
                    message: Subscription will be canceled at period end
                    cancelAtPeriodEnd: true
                  summary: Success Response
          description: Subscription canceled successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - No subscription found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/subscription/checkout/:
    post:
      operationId: api_subscription_checkout_create
      description: Create a Stripe checkout session for subscribing to a plan
      summary: Create checkout session
      tags:
      - Subscription
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateCheckoutSessionRequest'
            examples:
              CreateCheckoutSessionRequest:
                value:
                  planId: 123e4567-e89b-12d3-a456-426614174000
                summary: Create Checkout Session Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/CreateCheckoutSessionRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/CreateCheckoutSessionRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateCheckoutSessionResponse'
              examples:
                SuccessResponse:
                  value:
                    sessionId: cs_test_...
                    url: https://checkout.stripe.com/pay/cs_test_...
                  summary: Success Response
          description: Checkout session created successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Missing planId
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Plan not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/subscription/confirm/:
    post:
      operationId: api_subscription_confirm_create
      description: Confirm a subscription after payment is completed
      summary: Confirm subscription
      tags:
      - Subscription
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConfirmSubscriptionRequest'
            examples:
              ConfirmSubscriptionRequest:
                value:
                  subscriptionId: 123e4567-e89b-12d3-a456-426614174000
                  paymentIntentId: pi_...
                  billingDetails:
                    name: John Doe
                    email: john@example.com
                    address:
                      line1: 123 Main St
                      city: New York
                      state: NY
                      postal_code: '10001'
                      country: US
                summary: Confirm Subscription Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ConfirmSubscriptionRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ConfirmSubscriptionRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConfirmSubscriptionResponse'
              examples:
                SuccessResponse:
                  value:
                    success: true
                  summary: Success Response
          description: Subscription confirmed successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Invalid input
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Subscription not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/subscription/create/:
    post:
      operationId: api_subscription_create_create
      description: Create a subscription directly (alternative to checkout session
        flow)
      summary: Create subscription
      tags:
      - Subscription
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateSubscriptionRequest'
            examples:
              CreateSubscriptionRequest:
                value:
                  planId: pro-plan
                summary: Create Subscription Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/CreateSubscriptionRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/CreateSubscriptionRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateSubscriptionResponse'
              examples:
                SuccessResponse:
                  value:
                    subscriptionId: 123e4567-e89b-12d3-a456-426614174000
                    clientSecret: pi_...
                    subscriptionPlan:
                      name: Pro
                      price: 9.99
                      interval: MONTHLY
                  summary: Success Response
          description: Subscription created successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Invalid planId
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Plan not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/subscription/plans/:
    get:
      operationId: api_subscription_plans_retrieve
      description: Get all available subscription plans (public endpoint)
      summary: Get subscription plans
      tags:
      - Subscription
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/SubscriptionPlan'
              examples:
                SuccessResponse:
                  value:
                  - - id: 123e4567-e89b-12d3-a456-426614174000
                      name: Pro
                      description: Professional plan
                      price: 9.99
                      currency: USD
                      billingInterval: MONTHLY
                      features:
                      - Unlimited emails
                      - Advanced analytics
                      storageLimit: 10000
                      summarizationLimit: 1000
                  summary: Success Response
          description: List of subscription plans
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/all-highlights/:
    get:
      operationId: api_user_all_highlights_retrieve
      description: Get paginated list of all email highlights for the authenticated
        user
      summary: Get all highlights
      parameters:
      - in: query
        name: filter
        schema:
          type: string
          default: latest
        description: 'Filter by: latest, oldest (default: latest)'
      - in: query
        name: limit
        schema:
          type: integer
          default: 20
        description: 'Results per page (default: 20)'
      - in: query
        name: page
        schema:
          type: integer
          default: 1
        description: 'Page number (default: 1)'
      tags:
      - User
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Highlight'
              examples:
                SuccessResponse:
                  value:
                  - - id: 123e4567-e89b-12d3-a456-426614174000
                      emailId: 123e4567-e89b-12d3-a456-426614174001
                      text: This is a highlighted text...
                      selectionInfo:
                        start: 0
                        end: 20
                      createdAt: '2025-12-24T10:00:00Z'
                  summary: Success Response
          description: List of highlights
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/analytics/achievements/:
    get:
      operationId: api_user_analytics_achievements_retrieve
      description: Get user achievements and badges based on reading activity
      summary: Get achievements
      tags:
      - Analytics
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          description: List of user achievements
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/analytics/inbox-snapshot/:
    get:
      operationId: api_user_analytics_inbox_snapshot_retrieve
      description: Get inbox snapshot statistics including received today, read, unread,
        read later, and favorite counts
      summary: Get inbox snapshot
      tags:
      - Analytics
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InboxSnapshotResponse'
              examples:
                SuccessResponse:
                  value:
                    received_today: 10
                    read: 75
                    unread: 25
                    read_later: 5
                    favourite: 10
                  summary: Success Response
          description: Inbox snapshot retrieved successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/analytics/reading-insights/:
    get:
      operationId: api_user_analytics_reading_insights_retrieve
      description: Get reading insights including newsletter read count, favorites,
        and highlights made
      summary: Get reading insights
      tags:
      - Analytics
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReadingInsightsResponse'
              examples:
                SuccessResponse:
                  value:
                    newsletter_read: 50
                    favourite_mark: 10
                    highlights_made: 25
                  summary: Success Response
          description: Reading insights retrieved successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/analytics/similar-newsletters/:
    get:
      operationId: api_user_analytics_similar_newsletters_retrieve
      description: Get similar newsletters based on reading history and personalized
        recommendations
      summary: Get similar newsletters
      parameters:
      - in: query
        name: limit
        schema:
          type: integer
          default: 17
        description: 'Number of recommendations (default: 17)'
      tags:
      - Analytics
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          description: List of similar newsletters
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/check-inbox-availability/:
    get:
      operationId: api_user_check_inbox_availability_retrieve
      description: Check if a username is available for creating an inbox email address
      summary: Check inbox availability
      parameters:
      - in: query
        name: username
        schema:
          type: string
        description: Username to check
        required: true
      tags:
      - User
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InboxAvailabilityResponse'
              examples:
                UsernameAvailable:
                  value:
                    available: true
                    message: Username is available
                  summary: Username Available
                UsernameTaken:
                  value:
                    available: false
                    message: Username is already taken
                  summary: Username Taken
          description: Availability check result
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Missing username
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/complete-data/:
    get:
      operationId: api_user_complete_data_retrieve
      description: Get the authenticated user's profile information including email,
        name, verification status, and inbox details
      summary: Get user profile
      tags:
      - User
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserProfileResponse'
              examples:
                SuccessResponse:
                  value:
                    id: 123e4567-e89b-12d3-a456-426614174000
                    email: user@example.com
                    name: John Doe
                    birthYear: '1990'
                    gender: Male
                    isVerified: true
                    isInboxCreated: true
                    inboxEmail: john@inbo.me
                    createdAt: '2024-01-15T10:30:00.000Z'
                  summary: Success Response
          description: User profile retrieved successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized - Invalid or missing token
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              examples:
                UserNotFound:
                  value:
                    statusCode: 404
                    message: User not found
                    error: NotFound
                  summary: User Not Found
          description: Not Found - User not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/create-inbox/:
    post:
      operationId: api_user_create_inbox_create
      description: Create an inbox email address for the authenticated user
      summary: Create inbox
      tags:
      - User
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateInboxRequest'
            examples:
              CreateInboxRequest:
                value:
                  username: john
                summary: Create Inbox Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/CreateInboxRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/CreateInboxRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateInboxResponse'
              examples:
                SuccessResponse:
                  value:
                    success: true
                    inboxEmail: john@inbo.me
                  summary: Success Response
          description: Inbox created successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Username already taken or invalid
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/dashboard-data/:
    get:
      operationId: api_user_dashboard_data_retrieve
      description: Get dashboard statistics including total emails, unread, read,
        favorites, and read later counts
      summary: Get dashboard data
      tags:
      - User
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DashboardDataResponse'
              examples:
                SuccessResponse:
                  value:
                    totalEmails: 100
                    unreadEmails: 25
                    readEmails: 75
                    favoriteEmails: 10
                    readLaterEmails: 5
                  summary: Success Response
          description: Dashboard data retrieved successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - User not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/directory/search-categories/:
    get:
      operationId: api_user_directory_search_categories_retrieve
      description: Search categories in the directory (full results with pagination)
      summary: Search categories
      parameters:
      - in: query
        name: limit
        schema:
          type: string
        description: Results per page
      - in: query
        name: page
        schema:
          type: string
        description: Page number
      - in: query
        name: search
        schema:
          type: string
        description: Search query
      tags:
      - User Directory
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      - {}
      responses:
        '200':
          description: Category search results
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/directory/search-categories-preview/:
    get:
      operationId: api_user_directory_search_categories_preview_retrieve
      description: Get preview of category search results (limited to 5 results for
        faster UI)
      summary: Search categories preview
      parameters:
      - in: query
        name: search
        schema:
          type: string
        description: Search query
      tags:
      - User Directory
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      - {}
      responses:
        '200':
          description: Category preview results
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/directory/search-category-newsletters/:
    get:
      operationId: api_user_directory_search_category_newsletters_retrieve
      description: Search newsletters in a category (full results with pagination)
      summary: Search category newsletters
      parameters:
      - in: query
        name: category1Name
        schema:
          type: string
        description: Category name
      - in: query
        name: limit
        schema:
          type: string
        description: Results per page
      - in: query
        name: page
        schema:
          type: string
        description: Page number
      - in: query
        name: search
        schema:
          type: string
        description: Search query
      tags:
      - User Directory
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      - {}
      responses:
        '200':
          description: Category newsletter search results
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/directory/search-category-newsletters-preview/:
    get:
      operationId: api_user_directory_search_category_newsletters_preview_retrieve
      description: Get preview of newsletters in a category (limited to 5 results
        for faster UI)
      summary: Search category newsletters preview
      parameters:
      - in: query
        name: categoryname
        schema:
          type: string
        description: Category name
        required: true
      - in: query
        name: search
        schema:
          type: string
        description: Search query
      tags:
      - User Directory
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      - {}
      responses:
        '200':
          description: Category newsletter preview results
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - categoryname required
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/directory/search-newsletters/:
    get:
      operationId: api_user_directory_search_newsletters_retrieve
      description: Search newsletters in the directory (full results with pagination)
      summary: Search newsletters
      parameters:
      - in: query
        name: limit
        schema:
          type: string
        description: Results per page
      - in: query
        name: page
        schema:
          type: string
        description: Page number
      - in: query
        name: search
        schema:
          type: string
        description: Search query
      tags:
      - User Directory
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      - {}
      responses:
        '200':
          description: Newsletter search results
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/directory/search-newsletters-preview/:
    get:
      operationId: api_user_directory_search_newsletters_preview_retrieve
      description: Get preview of newsletter search results (limited to 5 results
        for faster UI)
      summary: Search newsletters preview
      parameters:
      - in: query
        name: search
        schema:
          type: string
        description: Search query
      tags:
      - User Directory
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      - {}
      responses:
        '200':
          description: Newsletter preview results
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/email-address/:
    patch:
      operationId: api_user_email_address_partial_update
      description: Change the authenticated user's email address
      summary: Change email address
      tags:
      - User
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedChangeEmailRequest'
            examples:
              ChangeEmailRequest:
                value:
                  newEmail: newemail@example.com
                summary: Change Email Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedChangeEmailRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedChangeEmailRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChangeEmailResponse'
              examples:
                SuccessResponse:
                  value:
                    success: true
                    message: Email address updated successfully
                  summary: Success Response
          description: Email address changed successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Invalid email or validation error
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/feedback/:
    post:
      operationId: api_user_feedback_create
      description: Submit user feedback or feature request
      summary: Submit feedback
      tags:
      - User
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FeedbackRequest'
            examples:
              SubmitFeedbackRequest:
                value:
                  email: user@example.com
                  text: Great app! Would love to see dark mode.
                  type: Feedback
                summary: Submit Feedback Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/FeedbackRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/FeedbackRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FeedbackResponse'
              examples:
                SuccessResponse:
                  value:
                    success: true
                    message: Feedback submitted successfully
                  summary: Success Response
          description: Feedback submitted successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Invalid request data
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/folder/{folder_name}/:
    post:
      operationId: api_user_folder_create
      description: Create a new folder for organizing emails
      summary: Create folder
      parameters:
      - in: path
        name: folderName
        schema:
          type: string
        description: Folder name
        required: true
      - in: path
        name: folder_name
        schema:
          type: string
        required: true
      tags:
      - User
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateFolderResponse'
              examples:
                SuccessResponse:
                  value:
                    id: 123e4567-e89b-12d3-a456-426614174000
                    name: Important
                    emailCount: 0
                    createdAt: '2025-12-24T10:00:00Z'
                  summary: Success Response
          description: Folder created successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Missing folder name
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
    delete:
      operationId: api_user_folder_destroy
      description: Delete a folder (emails in the folder are not deleted)
      summary: Delete folder
      parameters:
      - in: path
        name: folderName
        schema:
          type: string
        description: Folder name
        required: true
      - in: path
        name: folder_name
        schema:
          type: string
        required: true
      tags:
      - User
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeleteFolderResponse'
              examples:
                SuccessResponse:
                  value:
                    success: true
                    message: Folder deleted successfully
                  summary: Success Response
          description: Folder deleted successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Missing folder name
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Folder not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/folder/search/:
    get:
      operationId: api_user_folder_search_retrieve
      description: Search folders by name for the authenticated user
      summary: Search folder name
      parameters:
      - in: query
        name: currentFolder
        schema:
          type: string
        description: Current folder to exclude
      - in: query
        name: folderName
        schema:
          type: string
        description: Folder name to search
        required: true
      tags:
      - User
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          description: Matching folders
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Missing folder name
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/folders/:
    get:
      operationId: api_user_folders_retrieve
      description: Get all folders for the authenticated user
      summary: Get folders
      tags:
      - User
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          description: List of user folders
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/get-suggested-usernames/:
    get:
      operationId: api_user_get_suggested_usernames_retrieve
      description: Get suggested usernames for creating an inbox email address
      summary: Get suggested usernames
      parameters:
      - in: query
        name: basedOn
        schema:
          type: string
        description: Base username for suggestions
      - in: query
        name: name
        schema:
          type: string
        description: Base name for suggestions
      tags:
      - User
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          description: List of suggested usernames
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - User not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/global-stats/:
    get:
      operationId: api_user_global_stats_retrieve
      description: Get global reading statistics including read later, favorites,
        and total emails
      summary: Get global stats
      tags:
      - User
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GlobalStatsResponse'
              examples:
                SuccessResponse:
                  value:
                    totalReadLater: 25
                    totalFavorites: 15
                    totalEmailsRange: 100
                  summary: Success Response
          description: Global statistics retrieved successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/inbox-accounts/:
    get:
      operationId: api_user_inbox_accounts_retrieve
      description: Get all inbox email accounts for the authenticated user
      summary: Get inbox accounts
      tags:
      - User
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          description: List of inbox accounts
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/inbox-emails-count/:
    get:
      operationId: api_user_inbox_emails_count_retrieve
      description: Get the total count of emails in the user's inbox
      summary: Get inbox emails count
      tags:
      - User
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InboxEmailsCountResponse'
              examples:
                SuccessResponse:
                  value:
                    count: 100
                  summary: Success Response
          description: Email count retrieved successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/is-verified/:
    get:
      operationId: api_user_is_verified_retrieve
      description: Check if the authenticated user is verified
      summary: Check user verification status
      tags:
      - User
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VerificationStatusResponse'
              examples:
                VerifiedUser:
                  value:
                    isVerified: true
                  summary: Verified User
                UnverifiedUser:
                  value:
                    isVerified: false
                  summary: Unverified User
          description: Verification status retrieved successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized - Invalid or missing token
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - User not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/newsletter/subscribe/:
    post:
      operationId: api_user_newsletter_subscribe_create
      description: Subscribe to a newsletter from the directory
      summary: Subscribe to newsletter from directory
      tags:
      - User
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NewsletterSubscribeRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/NewsletterSubscribeRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/NewsletterSubscribeRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                description: Newsletter subscribed
          description: ''
        '201':
          content:
            application/json:
              schema:
                description: Newsletter subscription created
          description: ''
  /api/user/newsletter/unsubscribe/:
    post:
      operationId: api_user_newsletter_unsubscribe_create
      description: Unsubscribe from a newsletter
      summary: Unsubscribe from newsletter
      tags:
      - User
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NewsletterSubscribeRequest'
            examples:
              UnsubscribeNewsletterRequest:
                value:
                  newsletter_id: 123e4567-e89b-12d3-a456-426614174000
                summary: Unsubscribe Newsletter Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/NewsletterSubscribeRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/NewsletterSubscribeRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnsubscribeNewsletterResponse'
              examples:
                SuccessResponse:
                  value:
                    success: true
                    message: Unsubscribed successfully
                  summary: Success Response
          description: Newsletter unsubscribed successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Invalid request data
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Newsletter profile or subscription not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/notification/register/:
    post:
      operationId: api_user_notification_register_create
      description: Register FCM token for push notifications
      summary: Register notification token
      tags:
      - Notification
      requestBody:
        content:
          type:
            schema:
              type: object
              additionalProperties: {}
              description: Unspecified request body
          properties:
            schema:
              token:
                type: string
                nullable: true
                example: fcm-token-here
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                description: Token registered successfully
                examples:
                  application/json:
                    success: true
          description: ''
  /api/user/notification/send/:
    post:
      operationId: api_user_notification_send_create
      description: Send push notification to a user (requires notification secret)
      summary: Send notification
      tags:
      - Notification
      requestBody:
        content:
          type:
            schema:
              type: object
              additionalProperties: {}
              description: Unspecified request body
          required:
            schema:
              type: object
              additionalProperties: {}
              description: Unspecified request body
          properties:
            schema:
              token:
                type: string
                example: fcm-token-here
              newsletter:
                type: object
                properties:
                  id:
                    type: string
                  subject:
                    type: string
                  body:
                    type: string
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                description: Notification sent successfully
                examples:
                  application/json:
                    success: true
          description: ''
  /api/user/onboarding/:
    post:
      operationId: api_user_onboarding_create
      description: Complete user onboarding by submitting preferences, categories,
        reminder settings, and notification token
      summary: Complete onboarding
      tags:
      - User
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OnboardingRequest'
            examples:
              OnboardingRequest:
                value:
                  username: johndoe
                  categories:
                  - Tech
                  - Startups
                  - Business
                  reminder: after_waking_up
                  reminderTime: 06:00
                  whereHeard: app_store
                  notificationToken: fcm-token-here
                summary: Onboarding Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/OnboardingRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/OnboardingRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          description: Onboarding completed successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              examples:
                UsernameTaken:
                  value:
                    statusCode: 400
                    message: Username "johndoe" is already taken
                    error: BadRequest
                  summary: Username Taken
          description: Bad Request - Invalid request data or username already taken
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized - Invalid or missing token
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/onboarding/status/:
    get:
      operationId: api_user_onboarding_status_retrieve
      description: Check if the authenticated user has completed onboarding
      summary: Check onboarding status
      tags:
      - User
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OnboardingStatusResponse'
              examples:
                CompleteOnboarding:
                  value:
                    isComplete: true
                    hasUsername: true
                    hasCategories: true
                    categoryCount: 3
                  summary: Complete Onboarding
                IncompleteOnboarding:
                  value:
                    isComplete: false
                    hasUsername: true
                    hasCategories: false
                    categoryCount: 0
                  summary: Incomplete Onboarding
          description: Onboarding status retrieved successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized - Invalid or missing token
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - User not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/profile/:
    get:
      operationId: api_user_profile_retrieve
      description: Get the authenticated user's profile (GET) or update profile information
        (PATCH)
      summary: Get or Update user profile
      tags:
      - User
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserProfileResponse'
          description: Profile retrieved or updated successfully
    patch:
      operationId: api_user_profile_partial_update
      description: Get the authenticated user's profile (GET) or update profile information
        (PATCH)
      summary: Get or Update user profile
      tags:
      - User
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedProfileUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedProfileUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedProfileUpdateRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserProfileResponse'
          description: Profile retrieved or updated successfully
  /api/user/storage-info/:
    get:
      operationId: api_user_storage_info_retrieve
      description: Get storage usage information for the authenticated user
      summary: Get storage info
      tags:
      - User
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StorageInfoResponse'
              examples:
                SuccessResponse:
                  value:
                    used: 50000000
                    total: 1000000000
                    percentage: 5.0
                  summary: Success Response
          description: Storage information retrieved successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - User not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/streak-count/:
    get:
      operationId: api_user_streak_count_retrieve
      description: Get reading streak count and longest streak for the authenticated
        user
      summary: Get streak count
      tags:
      - User
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StreakCountResponse'
              examples:
                SuccessResponse:
                  value:
                    streak_count: 5
                    longest_streak: 10
                  summary: Success Response
          description: Streak count retrieved successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - User not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/subscription/confirm/:
    post:
      operationId: api_user_subscription_confirm_create
      description: Confirm a subscription after payment is completed
      summary: Confirm subscription
      tags:
      - User Subscription
      requestBody:
        content:
          type:
            schema:
              type: object
              additionalProperties: {}
              description: Unspecified request body
          properties:
            schema:
              subscriptionId:
                type: string
              paymentIntentId:
                type: string
              billingDetails:
                type: object
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          description: Subscription confirmed successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Subscription not found
  /api/user/subscription/create/:
    post:
      operationId: api_user_subscription_create_create
      description: Create a subscription directly (alternative to checkout session
        flow)
      summary: Create subscription
      tags:
      - User Subscription
      requestBody:
        content:
          type:
            schema:
              type: object
              additionalProperties: {}
              description: Unspecified request body
          properties:
            schema:
              planId:
                type: string
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          description: Subscription created successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Plan not found
  /api/user/subscriptions/:
    get:
      operationId: api_user_subscriptions_retrieve
      description: Get paginated list of newsletter subscriptions for the authenticated
        user
      summary: Get subscriptions
      parameters:
      - in: query
        name: filter
        schema:
          type: string
          default: subscribed
        description: 'Filter by status: subscribed or pending (default: subscribed)'
      - in: query
        name: page
        schema:
          type: integer
          default: 1
        description: 'Page number (default: 1)'
      tags:
      - User
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          description: List of newsletter subscriptions
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/summary-usage/:
    get:
      operationId: api_user_summary_usage_retrieve
      description: Get summary usage statistics for the authenticated user
      summary: Get summary usage
      tags:
      - User
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SummaryUsageResponse'
              examples:
                SuccessResponse:
                  value:
                    totalSummaries: 50
                    remainingSummaries: 950
                  summary: Success Response
          description: Summary usage retrieved successfully
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/time-range-stats/:
    get:
      operationId: api_user_time_range_stats_retrieve
      description: Get reading statistics for a specific time range (week or month)
      summary: Get time range stats
      parameters:
      - in: query
        name: timeRange
        schema:
          type: string
        description: 'Time range: week or month'
        required: true
      tags:
      - User
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          description: Time range statistics
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Missing or invalid timeRange
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/user/toggle-subscription/:
    patch:
      operationId: api_user_toggle_subscription_partial_update
      description: Toggle subscription status for a newsletter (subscribe/unsubscribe)
      summary: Toggle subscription
      tags:
      - User
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedToggleSubscriptionRequest'
            examples:
              ToggleSubscriptionRequest:
                value:
                  newsletterId: 123e4567-e89b-12d3-a456-426614174001
                  isAccepted: true
                summary: Toggle Subscription Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedToggleSubscriptionRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedToggleSubscriptionRequest'
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ToggleSubscriptionResponse'
              examples:
                SuccessResponse:
                  value:
                    id: 123e4567-e89b-12d3-a456-426614174000
                    newsletterId: 123e4567-e89b-12d3-a456-426614174001
                    newsletterName: Tech Newsletter
                    subscribedAt: '2025-12-24T10:00:00Z'
                    isActive: true
                  summary: Success Response
          description: Subscription toggled successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Invalid request data
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Unauthorized
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Not Found - Newsletter not found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/waitlist/:
    post:
      operationId: api_waitlist_create
      description: Add email and username to the waitlist for early access. Username
        must be 4-20 characters, lowercase letters, numbers, and dots only.
      summary: Add to waitlist
      tags:
      - Waitlist
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddToWaitlistRequest'
            examples:
              AddToWaitlistRequest:
                value:
                  email: user@example.com
                  username: john.doe
                summary: Add to Waitlist Request
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/AddToWaitlistRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/AddToWaitlistRequest'
        required: true
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AddToWaitlistResponse'
              examples:
                SuccessResponse:
                  value:
                    success: true
                    message: Successfully added to waitlist
                  summary: Success Response
          description: Successfully added to waitlist
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Bad Request - Invalid email, username, or already exists
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /api/waitlist/{username}/available/:
    get:
      operationId: api_waitlist_available_retrieve
      description: Check if a username is available for the waitlist. Checks against
        existing waitlist entries, user emails, and inbox emails.
      summary: Check username availability
      parameters:
      - in: path
        name: username
        schema:
          type: string
        description: Username to check (4-20 characters, lowercase letters, numbers,
          and dots only)
        required: true
      tags:
      - Waitlist
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UsernameAvailabilityResponse'
              examples:
                UsernameAvailable:
                  value:
                    available: true
                  summary: Username Available
                UsernameNotAvailable:
                  value:
                    available: false
                  summary: Username Not Available
          description: Username availability check completed
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Internal Server Error
  /health:
    get:
      operationId: health_retrieve
      description: Simple health check to verify the API is running
      summary: Health check endpoint
      tags:
      - Health Check
      security:
      - jwtAuth: []
      - cookieAuth: []
      - Bearer: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                description: API is healthy
                content:
                  application/json:
                    schema:
                      type: string
                      example: OK
          description: ''
components:
  schemas:
    AccountDeletionCancelRequest:
      type: object
      description: Serializer for cancelling deletion request
      properties:
        email:
          type: string
          format: email
          minLength: 1
      required:
      - email
    AccountDeletionRequestRequest:
      type: object
      description: Serializer for account deletion request
      properties:
        email:
          type: string
          format: email
          minLength: 1
        reason:
          type: string
          minLength: 10
      required:
      - email
      - reason
    AddHighlightRequest:
      type: object
      description: Serializer for adding highlight
      properties:
        text:
          type: string
          minLength: 1
        selectionInfo:
          type: object
          additionalProperties: {}
        color:
          type: string
          minLength: 1
          default: yellow
      required:
      - selectionInfo
      - text
    AddToWaitlistRequest:
      type: object
      description: Serializer for adding to waitlist
      properties:
        email:
          type: string
          format: email
          minLength: 1
        username:
          type: string
          minLength: 4
          maxLength: 20
      required:
      - email
      - username
    AddToWaitlistResponse:
      type: object
      description: Response for adding to waitlist
      properties:
        success:
          type: boolean
        message:
          type: string
          nullable: true
      required:
      - success
    BatchEventResponse:
      type: object
      description: Response for batch event ingestion
      properties:
        created:
          type: integer
        errors:
          type: integer
        events:
          type: array
          items:
            type: object
            additionalProperties: {}
        error_details:
          type: array
          items:
            type: object
            additionalProperties: {}
          nullable: true
      required:
      - created
      - errors
      - events
    BulkOperationResponse:
      type: object
      description: Response for bulk operations
      properties:
        success:
          type: boolean
        deletedCount:
          type: integer
        restoredCount:
          type: integer
      required:
      - success
    CancelDeletionRequestResponse:
      type: object
      description: Response for cancelling deletion request
      properties:
        success:
          type: boolean
        message:
          type: string
      required:
      - message
      - success
    CancelSubscriptionResponse:
      type: object
      description: Response for cancel subscription
      properties:
        success:
          type: boolean
        message:
          type: string
          nullable: true
        cancelAtPeriodEnd:
          type: boolean
      required:
      - cancelAtPeriodEnd
      - success
    ChangeEmailResponse:
      type: object
      description: Response for change email
      properties:
        success:
          type: boolean
        message:
          type: string
      required:
      - message
      - success
    CheckEmailResponse:
      type: object
      description: Response for check email endpoint
      properties:
        exists:
          type: boolean
      required:
      - exists
    ConfirmSubscriptionRequest:
      type: object
      description: Serializer for confirming subscription
      properties:
        subscriptionId:
          type: string
          format: uuid
        paymentIntentId:
          type: string
          minLength: 1
        billingDetails:
          type: object
          additionalProperties: {}
          nullable: true
      required:
      - paymentIntentId
      - subscriptionId
    ConfirmSubscriptionResponse:
      type: object
      description: Response for confirm subscription
      properties:
        success:
          type: boolean
      required:
      - success
    ConnectGmailRequest:
      type: object
      properties:
        email:
          type: string
          format: email
          minLength: 1
        accessToken:
          type: string
          minLength: 1
        refreshToken:
          type: string
      required:
      - accessToken
      - email
    ConnectGmailResponse:
      type: object
      description: Response for connect Gmail
      properties:
        id:
          type: string
          format: uuid
        email:
          type: string
          format: email
        connectedAt:
          type: string
      required:
      - connectedAt
      - email
      - id
    ConnectIntegrationRequest:
      type: object
      properties:
        type:
          $ref: '#/components/schemas/TypeEnum'
        accessToken:
          type: string
          minLength: 1
        refreshToken:
          type: string
      required:
      - accessToken
      - type
    ConnectIntegrationResponse:
      type: object
      description: Response for connect integration
      properties:
        id:
          type: string
          format: uuid
        type:
          type: string
        connectedAt:
          type: string
      required:
      - connectedAt
      - id
      - type
    CreateCheckoutSessionRequest:
      type: object
      properties:
        planId:
          type: string
          format: uuid
      required:
      - planId
    CreateCheckoutSessionResponse:
      type: object
      description: Response for create checkout session
      properties:
        sessionId:
          type: string
        url:
          type: string
          format: uri
      required:
      - sessionId
      - url
    CreateFolderResponse:
      type: object
      description: Response for create folder
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        emailCount:
          type: integer
        createdAt:
          type: string
      required:
      - createdAt
      - emailCount
      - id
      - name
    CreateInboxRequest:
      type: object
      properties:
        username:
          type: string
          minLength: 1
          maxLength: 255
      required:
      - username
    CreateInboxResponse:
      type: object
      description: Response for create inbox
      properties:
        success:
          type: boolean
        inboxEmail:
          type: string
      required:
      - inboxEmail
      - success
    CreateReadingLogRequest:
      type: object
      properties:
        emailId:
          type: string
          format: uuid
        timeSpent:
          type: integer
          minimum: 0
        wordsRead:
          type: integer
          minimum: 0
      required:
      - emailId
      - timeSpent
      - wordsRead
    CreateReadingLogResponse:
      type: object
      description: Response for create reading log
      properties:
        id:
          type: string
          format: uuid
        totalTimeSpent:
          type: integer
        totalWordsRead:
          type: integer
        todayRead:
          type: integer
        createdAt:
          type: string
      required:
      - createdAt
      - id
      - todayRead
      - totalTimeSpent
      - totalWordsRead
    CreateSubscriptionRequest:
      type: object
      description: Serializer for creating subscription
      properties:
        planId:
          type: string
          minLength: 1
      required:
      - planId
    CreateSubscriptionResponse:
      type: object
      description: Response for create subscription
      properties:
        subscriptionId:
          type: string
          format: uuid
        clientSecret:
          type: string
        subscriptionPlan:
          type: object
          additionalProperties: {}
      required:
      - clientSecret
      - subscriptionId
      - subscriptionPlan
    DashboardDataResponse:
      type: object
      description: Response for dashboard data
      properties:
        totalEmails:
          type: integer
        unreadEmails:
          type: integer
        readEmails:
          type: integer
        favoriteEmails:
          type: integer
        readLaterEmails:
          type: integer
      required:
      - favoriteEmails
      - readEmails
      - readLaterEmails
      - totalEmails
      - unreadEmails
    DeleteEmailResponse:
      type: object
      description: Response for delete email permanently
      properties:
        success:
          type: boolean
      required:
      - success
    DeleteFolderResponse:
      type: object
      description: Response for delete folder
      properties:
        success:
          type: boolean
        message:
          type: string
          nullable: true
      required:
      - success
    DeletionStatsResponse:
      type: object
      description: Response for deletion statistics
      properties:
        totalRequests:
          type: integer
        pendingRequests:
          type: integer
        scheduledDeletions:
          type: integer
        completedDeletions:
          type: integer
        cancelledRequests:
          type: integer
      required:
      - cancelledRequests
      - completedDeletions
      - pendingRequests
      - scheduledDeletions
      - totalRequests
    DeletionStatusResponse:
      type: object
      description: Response for deletion request status
      properties:
        status:
          type: string
        scheduledFor:
          type: string
          format: date-time
        daysRemaining:
          type: integer
          nullable: true
        canCancel:
          type: boolean
      required:
      - canCancel
      - scheduledFor
      - status
    DisconnectGmailRequest:
      type: object
      properties:
        accountId:
          type: string
          format: uuid
      required:
      - accountId
    DisconnectGmailResponse:
      type: object
      description: Response for disconnect Gmail
      properties:
        success:
          type: boolean
      required:
      - success
    DisconnectIntegrationRequest:
      type: object
      properties:
        type:
          $ref: '#/components/schemas/TypeEnum'
      required:
      - type
    DisconnectIntegrationResponse:
      type: object
      description: Response for disconnect integration
      properties:
        success:
          type: boolean
      required:
      - success
    EmailDetail:
      type: object
      description: Detailed email information
      properties:
        id:
          type: string
          format: uuid
        sender:
          type: string
          format: email
        subject:
          type: string
        contentPreview:
          type: string
          nullable: true
        dateReceived:
          type: string
          nullable: true
        wordsCount:
          type: integer
          nullable: true
        isRead:
          type: boolean
        isFavorite:
          type: boolean
        isReadLater:
          type: boolean
        storagePath:
          type: string
          nullable: true
        readingProgress:
          type: integer
          nullable: true
        body:
          type: string
          nullable: true
        summary:
          type: string
          nullable: true
        highlights:
          type: array
          items:
            type: object
            additionalProperties: {}
          nullable: true
      required:
      - id
      - isFavorite
      - isRead
      - isReadLater
      - sender
      - subject
    EmailListItem:
      type: object
      description: Email list item information
      properties:
        id:
          type: string
          format: uuid
        sender:
          type: string
          format: email
        subject:
          type: string
        contentPreview:
          type: string
          nullable: true
        dateReceived:
          type: string
          nullable: true
        wordsCount:
          type: integer
          nullable: true
        isRead:
          type: boolean
        isFavorite:
          type: boolean
        isReadLater:
          type: boolean
      required:
      - id
      - isFavorite
      - isRead
      - isReadLater
      - sender
      - subject
    EmailSearchResponse:
      type: object
      description: Response for email search
      properties:
        emails:
          type: array
          items:
            $ref: '#/components/schemas/EmailListItem'
        total:
          type: integer
      required:
      - emails
      - total
    EmailSummaryRequestRequest:
      type: object
      description: Serializer for email summary request
      properties:
        emailText:
          type: string
    ErrorResponse:
      type: object
      description: Standard error response format used across all endpoints
      properties:
        statusCode:
          type: integer
          description: HTTP status code (400, 401, 404, 500, etc.)
        message:
          type: string
          description: Human-readable error message
        error:
          type: string
          description: Error type (BadRequest, Unauthorized, NotFound, InternalServerError,
            etc.)
        errors:
          type: object
          additionalProperties: {}
          description: Additional error details (field-specific validation errors,
            etc.)
      required:
      - error
      - message
      - statusCode
    EventTypeEnum:
      enum:
      - open
      - click
      - follow
      - unsubscribe
      - read_duration
      - share
      - dismiss
      - dwell_time
      type: string
      description: |-
        * `open` - Open
        * `click` - Click
        * `follow` - Follow
        * `unsubscribe` - Unsubscribe
        * `read_duration` - Read Duration
        * `share` - Share
        * `dismiss` - Dismiss
        * `dwell_time` - Dwell Time
    FeedbackRequest:
      type: object
      properties:
        email:
          type: string
          format: email
          minLength: 1
        text:
          type: string
          minLength: 1
        type:
          type: string
          minLength: 1
          default: Feedback
      required:
      - email
      - text
    FeedbackResponse:
      type: object
      description: Response for submit feedback
      properties:
        success:
          type: boolean
        message:
          type: string
          nullable: true
      required:
      - success
    GlobalStatsResponse:
      type: object
      description: Response for global stats
      properties:
        totalReadLater:
          type: integer
        totalFavorites:
          type: integer
        totalEmailsRange:
          type: integer
      required:
      - totalEmailsRange
      - totalFavorites
      - totalReadLater
    GmailAccount:
      type: object
      description: Gmail account information
      properties:
        id:
          type: string
          format: uuid
        email:
          type: string
          format: email
        needsReauth:
          type: boolean
        lastSyncTime:
          type: string
          nullable: true
      required:
      - email
      - id
      - needsReauth
    Highlight:
      type: object
      description: Email highlight information
      properties:
        id:
          type: string
          format: uuid
        emailId:
          type: string
          format: uuid
          nullable: true
        text:
          type: string
        selectionInfo:
          type: object
          additionalProperties: {}
          nullable: true
        createdAt:
          type: string
      required:
      - createdAt
      - id
      - text
    HighlightResponse:
      type: object
      description: Response for highlight operations
      properties:
        id:
          type: string
          format: uuid
        text:
          type: string
        note:
          type: string
          nullable: true
        selectionInfo:
          type: object
          additionalProperties: {}
        color:
          type: string
      required:
      - id
      - selectionInfo
      - text
    InboxAvailabilityResponse:
      type: object
      description: Response for inbox availability check
      properties:
        available:
          type: boolean
        message:
          type: string
          nullable: true
      required:
      - available
    InboxEmailsCountResponse:
      type: object
      description: Response for inbox emails count
      properties:
        count:
          type: integer
      required:
      - count
    InboxSnapshotResponse:
      type: object
      description: Response for inbox snapshot
      properties:
        received_today:
          type: integer
        read:
          type: integer
        unread:
          type: integer
        read_later:
          type: integer
        favourite:
          type: integer
      required:
      - favourite
      - read
      - read_later
      - received_today
      - unread
    IncrementStreakResponse:
      type: object
      description: Response for increment streak
      properties:
        count:
          type: integer
        isToday:
          type: boolean
        success:
          type: boolean
          nullable: true
        currentStreak:
          type: integer
          nullable: true
        message:
          type: string
          nullable: true
      required:
      - count
      - isToday
    Integration:
      type: object
      description: Integration information
      properties:
        id:
          type: string
          format: uuid
        type:
          type: string
        connectedAt:
          type: string
        lastUsedAt:
          type: string
          nullable: true
      required:
      - connectedAt
      - id
      - type
    LogoutRequest:
      type: object
      properties:
        refreshToken:
          type: string
          minLength: 1
        logoutFromAllDevices:
          type: boolean
          default: false
      required:
      - refreshToken
    LogoutResponse:
      type: object
      description: Response for logout endpoint
      properties:
        success:
          type: boolean
        message:
          type: string
      required:
      - message
      - success
    MoveToTrashResponse:
      type: object
      description: Response for move to trash
      properties:
        success:
          type: boolean
      required:
      - success
    NewsletterDetailsResponse:
      type: object
      description: Response for newsletter details
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        url:
          type: string
          format: uri
        domain:
          type: string
          nullable: true
        author:
          type: string
          nullable: true
        description:
          type: string
          nullable: true
        targetAudience:
          type: string
          nullable: true
        valueProposition:
          type: string
          nullable: true
        language:
          type: string
          nullable: true
        contentFrequency:
          type: string
          nullable: true
        location:
          type: string
          nullable: true
        categories:
          type: array
          items:
            type: string
        tags:
          type: array
          items:
            type: string
        crossTags:
          type: array
          items:
            type: string
        tones:
          type: array
          items:
            type: string
        audienceLevels:
          type: array
          items:
            type: string
        contentIntents:
          type: array
          items:
            type: string
        contentFormats:
          type: array
          items:
            type: string
      required:
      - categories
      - id
      - name
      - tags
      - url
    NewsletterPost:
      type: object
      description: Serializer for NewsletterPost
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        preference:
          type: string
          format: uuid
          nullable: true
        newsletter_url:
          type: string
          format: uri
          maxLength: 500
        post_url:
          type: string
          format: uri
          maxLength: 1000
        post_slug:
          type: string
          nullable: true
          maxLength: 500
        title:
          type: string
          nullable: true
          maxLength: 500
        description:
          type: string
          nullable: true
        content_preview:
          type: string
          nullable: true
        last_modified:
          type: string
          format: date-time
          nullable: true
        published_at:
          type: string
          format: date-time
          nullable: true
        is_read:
          type: boolean
        read_at:
          type: string
          format: date-time
          nullable: true
        reading_progress:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
        word_count:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
          nullable: true
        read_time_minutes:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
          nullable: true
        author:
          type: string
          nullable: true
          maxLength: 255
        fetched_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
        extra_metadata:
          type: string
          nullable: true
      required:
      - fetched_at
      - id
      - newsletter_url
      - post_url
      - updated_at
    NewsletterPostRequest:
      type: object
      description: Serializer for NewsletterPost
      properties:
        preference:
          type: string
          format: uuid
          nullable: true
        newsletter_url:
          type: string
          format: uri
          minLength: 1
          maxLength: 500
        post_url:
          type: string
          format: uri
          minLength: 1
          maxLength: 1000
        post_slug:
          type: string
          nullable: true
          maxLength: 500
        title:
          type: string
          nullable: true
          maxLength: 500
        description:
          type: string
          nullable: true
        content_preview:
          type: string
          nullable: true
        last_modified:
          type: string
          format: date-time
          nullable: true
        published_at:
          type: string
          format: date-time
          nullable: true
        is_read:
          type: boolean
        read_at:
          type: string
          format: date-time
          nullable: true
        reading_progress:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
        word_count:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
          nullable: true
        read_time_minutes:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
          nullable: true
        author:
          type: string
          nullable: true
          maxLength: 255
        extra_metadata:
          type: string
          nullable: true
      required:
      - newsletter_url
      - post_url
    NewsletterPostUpdateRequest:
      type: object
      description: Serializer for updating NewsletterPost
      properties:
        is_read:
          type: boolean
        read_at:
          type: string
          format: date-time
          nullable: true
        reading_progress:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
    NewsletterPreference:
      type: object
      description: Serializer for NewsletterPreference
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        profile:
          type: string
          format: uuid
        newsletter_id:
          type: string
          maxLength: 255
        newsletter_name:
          type: string
          description: Get newsletter name from NewsletterProvider if available
          readOnly: true
        newsletter_url:
          type: string
          description: Get newsletter URL from NewsletterProvider if available
          readOnly: true
        is_subscribed:
          type: boolean
        is_favorite:
          type: boolean
        is_muted:
          type: boolean
        auto_mark_read:
          type: boolean
        send_digest:
          type: boolean
        reading_position:
          nullable: true
        custom_tags: {}
        notes:
          type: string
          nullable: true
        subscribed_at:
          type: string
          format: date-time
        last_read_at:
          type: string
          format: date-time
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - created_at
      - id
      - newsletter_id
      - newsletter_name
      - newsletter_url
      - profile
      - updated_at
    NewsletterPreferenceCreateRequest:
      type: object
      description: Serializer for creating NewsletterPreference
      properties:
        profile:
          type: string
          format: uuid
        newsletter_id:
          type: string
          minLength: 1
          maxLength: 255
        newsletter_name:
          type: string
          nullable: true
          maxLength: 255
        newsletter_url:
          type: string
          format: uri
          minLength: 1
          maxLength: 500
        is_subscribed:
          type: boolean
        is_favorite:
          type: boolean
        is_muted:
          type: boolean
        auto_mark_read:
          type: boolean
        send_digest:
          type: boolean
        reading_position:
          nullable: true
        custom_tags: {}
        notes:
          type: string
          nullable: true
      required:
      - newsletter_id
      - newsletter_url
      - profile
    NewsletterProfile:
      type: object
      description: Serializer for NewsletterProfile
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        user:
          type: string
          format: uuid
        email:
          type: string
          format: email
          maxLength: 255
        display_name:
          type: string
          nullable: true
          maxLength: 255
        bio:
          type: string
          nullable: true
        avatar_url:
          type: string
          format: uri
          nullable: true
          maxLength: 500
        preferred_categories: {}
        preferred_frequency:
          $ref: '#/components/schemas/PreferredFrequencyEnum'
        preferred_language:
          type: string
          maxLength: 10
        timezone_field:
          type: string
          nullable: true
          maxLength: 100
        email_notifications:
          type: boolean
        push_notifications:
          type: boolean
        digest_enabled:
          type: boolean
        total_subscriptions:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
        total_read:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
        total_saved:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
        is_active:
          type: boolean
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - created_at
      - email
      - id
      - updated_at
      - user
    NewsletterProfileCreateRequest:
      type: object
      description: Serializer for creating NewsletterProfile
      properties:
        user:
          type: string
          format: uuid
        email:
          type: string
          format: email
          minLength: 1
          maxLength: 255
        display_name:
          type: string
          nullable: true
          maxLength: 255
        bio:
          type: string
          nullable: true
        avatar_url:
          type: string
          format: uri
          nullable: true
          maxLength: 500
        preferred_categories: {}
        preferred_frequency:
          $ref: '#/components/schemas/PreferredFrequencyEnum'
        preferred_language:
          type: string
          minLength: 1
          maxLength: 10
        timezone_field:
          type: string
          nullable: true
          maxLength: 100
        email_notifications:
          type: boolean
        push_notifications:
          type: boolean
        digest_enabled:
          type: boolean
      required:
      - email
      - user
    NewsletterProviderSearch:
      type: object
      description: Newsletter provider search result
      properties:
        id:
          type: string
        name:
          type: string
        description:
          type: string
          nullable: true
        author:
          type: string
          nullable: true
        url:
          type: string
          format: uri
        icon_url:
          type: string
          format: uri
          nullable: true
        categories:
          type: array
          items:
            type: string
        tags:
          type: array
          items:
            type: string
        language:
          type: string
          nullable: true
        score:
          type: number
          format: double
      required:
      - id
      - name
      - score
      - url
    NewsletterProviderSearchResponse:
      type: object
      description: Response for newsletter provider search
      properties:
        results:
          type: array
          items:
            $ref: '#/components/schemas/NewsletterProviderSearch'
        total:
          type: integer
        page:
          type: integer
        page_size:
          type: integer
        aggregations:
          type: object
          additionalProperties: {}
          nullable: true
      required:
      - page
      - page_size
      - results
      - total
    NewsletterSearchResponse:
      type: object
      description: Response for search newsletters
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/NewsletterSearchResult'
        total:
          type: integer
        page:
          type: integer
        limit:
          type: integer
      required:
      - data
      - limit
      - page
      - total
    NewsletterSearchResult:
      type: object
      description: Newsletter search result
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        url:
          type: string
          format: uri
        domain:
          type: string
          nullable: true
        author:
          type: string
          nullable: true
        description:
          type: string
          nullable: true
      required:
      - id
      - name
      - url
    NewsletterSubscribeRequest:
      type: object
      properties:
        newsletter_id:
          type: string
          minLength: 1
          maxLength: 255
        newsletter_name:
          type: string
          maxLength: 255
        newsletter_url:
          type: string
          format: uri
          maxLength: 500
      required:
      - newsletter_id
    NewsletterSyncRequestRequest:
      type: object
      description: Serializer for newsletter sync request
      properties:
        newsletter_url:
          type: string
          format: uri
          minLength: 1
        preference_id:
          type: string
          format: uuid
          nullable: true
        force_refresh:
          type: boolean
          default: false
      required:
      - newsletter_url
    NewsletterSyncResponse:
      type: object
      description: Serializer for newsletter sync response
      properties:
        status:
          type: string
        newsletter_url:
          type: string
          format: uri
        newsletter_name:
          type: string
        total_posts:
          type: integer
        new_posts:
          type: integer
        updated_posts:
          type: integer
        error:
          type: string
          nullable: true
      required:
      - new_posts
      - newsletter_name
      - newsletter_url
      - status
      - total_posts
      - updated_posts
    OnboardingRequest:
      type: object
      description: Serializer for onboarding data
      properties:
        username:
          type: string
          maxLength: 255
        categories:
          type: array
          items:
            type: string
            minLength: 1
            maxLength: 255
        reminder:
          type: string
          maxLength: 50
        reminderTime:
          type: string
          maxLength: 10
        whereHeard:
          type: string
          maxLength: 50
        notificationToken:
          type: string
          maxLength: 255
    OnboardingStatusResponse:
      type: object
      description: Response for onboarding status check
      properties:
        isComplete:
          type: boolean
        hasUsername:
          type: boolean
        hasCategories:
          type: boolean
        categoryCount:
          type: integer
      required:
      - categoryCount
      - hasCategories
      - hasUsername
      - isComplete
    PaginatedNewsletterPostList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/NewsletterPost'
    PaginatedNewsletterPreferenceList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/NewsletterPreference'
    PaginatedNewsletterProfileList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/NewsletterProfile'
    PatchedBulkRestoreRequest:
      type: object
      description: Serializer for bulk restore
      properties:
        ids:
          type: array
          items:
            type: string
            format: uuid
          minItems: 1
    PatchedChangeEmailRequest:
      type: object
      properties:
        newEmail:
          type: string
          format: email
          minLength: 1
    PatchedNewsletterPostUpdateRequest:
      type: object
      description: Serializer for updating NewsletterPost
      properties:
        is_read:
          type: boolean
        read_at:
          type: string
          format: date-time
          nullable: true
        reading_progress:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
    PatchedNewsletterPreferenceCreateRequest:
      type: object
      description: Serializer for creating NewsletterPreference
      properties:
        profile:
          type: string
          format: uuid
        newsletter_id:
          type: string
          minLength: 1
          maxLength: 255
        newsletter_name:
          type: string
          nullable: true
          maxLength: 255
        newsletter_url:
          type: string
          format: uri
          minLength: 1
          maxLength: 500
        is_subscribed:
          type: boolean
        is_favorite:
          type: boolean
        is_muted:
          type: boolean
        auto_mark_read:
          type: boolean
        send_digest:
          type: boolean
        reading_position:
          nullable: true
        custom_tags: {}
        notes:
          type: string
          nullable: true
    PatchedNewsletterProfileCreateRequest:
      type: object
      description: Serializer for creating NewsletterProfile
      properties:
        user:
          type: string
          format: uuid
        email:
          type: string
          format: email
          minLength: 1
          maxLength: 255
        display_name:
          type: string
          nullable: true
          maxLength: 255
        bio:
          type: string
          nullable: true
        avatar_url:
          type: string
          format: uri
          nullable: true
          maxLength: 500
        preferred_categories: {}
        preferred_frequency:
          $ref: '#/components/schemas/PreferredFrequencyEnum'
        preferred_language:
          type: string
          minLength: 1
          maxLength: 10
        timezone_field:
          type: string
          nullable: true
          maxLength: 100
        email_notifications:
          type: boolean
        push_notifications:
          type: boolean
        digest_enabled:
          type: boolean
    PatchedProfileUpdateRequest:
      type: object
      properties:
        name:
          type: string
          maxLength: 255
        birthYear:
          type: string
          maxLength: 4
        gender:
          type: string
          maxLength: 50
    PatchedToggleFavoriteRequest:
      type: object
      description: Serializer for toggling favorite status
      properties:
        isFavorite:
          type: boolean
    PatchedToggleReadLaterRequest:
      type: object
      description: Serializer for toggling read later status
      properties:
        isReadLater:
          type: boolean
    PatchedToggleShareRequest:
      type: object
      description: Serializer for toggling share status
      properties:
        isShared:
          type: boolean
    PatchedToggleSubscriptionRequest:
      type: object
      properties:
        newsletterId:
          type: string
          format: uuid
        isAccepted:
          type: boolean
    PatchedUpdateEmailProgressRequest:
      type: object
      description: Serializer for updating email progress
      properties:
        progress:
          type: integer
          maximum: 100
          minimum: 0
        isRead:
          type: boolean
        timeSpent:
          type: integer
          minimum: 0
        wordsRead:
          type: integer
          minimum: 0
    PatchedUpdateHighlightNoteRequest:
      type: object
      description: Serializer for updating highlight note
      properties:
        note:
          type: string
          minLength: 1
    PreferredFrequencyEnum:
      enum:
      - daily
      - weekly
      - bi-weekly
      - monthly
      type: string
      description: |-
        * `daily` - Daily
        * `weekly` - Weekly
        * `bi-weekly` - Bi-weekly
        * `monthly` - Monthly
    ReadingInsightsResponse:
      type: object
      description: Response for reading insights
      properties:
        newsletterRead:
          type: integer
        favourites:
          type: integer
        highlights:
          type: integer
      required:
      - favourites
      - highlights
      - newsletterRead
    ReadingLog:
      type: object
      description: Reading log entry
      properties:
        id:
          type: string
          format: uuid
        totalEmails:
          type: integer
          nullable: true
        todayRead:
          type: integer
        previousRead:
          type: integer
          nullable: true
        totalTimeSpent:
          type: integer
        totalWordsRead:
          type: integer
        createdAt:
          type: string
      required:
      - createdAt
      - id
      - todayRead
      - totalTimeSpent
      - totalWordsRead
    ReadingLogsResponse:
      type: object
      description: Response for get reading logs
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/ReadingLog'
        page:
          type: integer
        limit:
          type: integer
      required:
      - data
      - limit
      - page
    ReadingStatisticsResponse:
      type: object
      description: Response for reading statistics
      properties:
        streakCount:
          type: integer
        longestStreak:
          type: integer
        todayTimeSpent:
          type: integer
        todayWordsRead:
          type: integer
        totalTimeSpent:
          type: integer
        totalWordsRead:
          type: integer
        totalDays:
          type: integer
        averageTimePerEmail:
          type: number
          format: double
          nullable: true
        averageWordsPerEmail:
          type: number
          format: double
          nullable: true
        readingEfficiency:
          type: number
          format: double
          nullable: true
      required:
      - longestStreak
      - streakCount
      - todayTimeSpent
      - todayWordsRead
      - totalDays
      - totalTimeSpent
      - totalWordsRead
    Recommendation:
      type: object
      description: Serializer for recommendations
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        item_id:
          type: string
          maxLength: 255
        item_type:
          type: string
          maxLength: 50
        score:
          type: number
          format: double
        rank:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
        personal_score:
          type: number
          format: double
        similarity_score:
          type: number
          format: double
        popularity_score:
          type: number
          format: double
        freshness_score:
          type: number
          format: double
        reason:
          type: string
          nullable: true
        explanation_metadata: {}
        model_version:
          type: string
          maxLength: 50
        recommendation_mode:
          type: string
          maxLength: 50
        item_name:
          type: string
          readOnly: true
        item_url:
          type: string
          readOnly: true
        item_icon_url:
          type: string
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - created_at
      - id
      - item_icon_url
      - item_id
      - item_name
      - item_url
      - rank
      - score
    RecommendationExplanation:
      type: object
      description: Serializer for recommendation explanations
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        item_id:
          type: string
          maxLength: 255
        explanation_text:
          type: string
        contributing_factors: {}
        similar_items: {}
        category_match: {}
        tag_match: {}
        model_version:
          type: string
          maxLength: 50
        recommendation_mode:
          type: string
          maxLength: 50
        created_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - created_at
      - explanation_text
      - id
      - item_id
      - model_version
      - recommendation_mode
    RefreshTokenRequest:
      type: object
      properties:
        refreshToken:
          type: string
          minLength: 1
      required:
      - refreshToken
    RefreshTokenResponse:
      type: object
      description: Response for refresh token endpoint
      properties:
        accessToken:
          type: string
        expiresAt:
          type: string
      required:
      - accessToken
      - expiresAt
    RestoreEmailResponse:
      type: object
      description: Response for restore email
      properties:
        success:
          type: boolean
      required:
      - success
    SendOTPRequest:
      type: object
      properties:
        email:
          type: string
          format: email
          minLength: 1
      required:
      - email
    SendOTPResponse:
      type: object
      description: Response for send OTP endpoint
      properties:
        success:
          type: boolean
        message:
          type: string
      required:
      - message
      - success
    StorageInfoResponse:
      type: object
      description: Response for storage info
      properties:
        used:
          type: integer
        total:
          type: integer
        percentage:
          type: number
          format: double
      required:
      - percentage
      - total
      - used
    StreakCountResponse:
      type: object
      description: Response for streak count
      properties:
        streak_count:
          type: integer
        longest_streak:
          type: integer
      required:
      - longest_streak
      - streak_count
    StreakResponse:
      type: object
      description: Response for streak
      properties:
        count:
          type: integer
        isToday:
          type: boolean
      required:
      - count
      - isToday
    SubmitDeletionRequestResponse:
      type: object
      description: Response for submitting deletion request
      properties:
        success:
          type: boolean
        message:
          type: string
        deletionId:
          type: string
          format: uuid
        scheduledFor:
          type: string
          format: date-time
        daysRemaining:
          type: integer
      required:
      - daysRemaining
      - deletionId
      - message
      - scheduledFor
      - success
    SubscriptionPlan:
      type: object
      description: Subscription plan information
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        description:
          type: string
          nullable: true
        price:
          type: number
          format: double
        currency:
          type: string
        billingInterval:
          type: string
        features:
          type: array
          items:
            type: string
          nullable: true
        storageLimit:
          type: integer
          nullable: true
        summarizationLimit:
          type: integer
          nullable: true
      required:
      - billingInterval
      - currency
      - id
      - name
      - price
    SummaryUsageResponse:
      type: object
      description: Response for summary usage
      properties:
        totalSummaries:
          type: integer
        remainingSummaries:
          type: integer
      required:
      - remainingSummaries
      - totalSummaries
    SyncGmailRequest:
      type: object
      properties:
        accountId:
          type: string
          format: uuid
      required:
      - accountId
    SyncGmailResponse:
      type: object
      description: Response for sync Gmail
      properties:
        success:
          type: boolean
        lastSyncTime:
          type: string
          nullable: true
        syncedCount:
          type: integer
          nullable: true
        message:
          type: string
          nullable: true
      required:
      - success
    ToggleFavoriteResponse:
      type: object
      description: Response for toggle favorite
      properties:
        success:
          type: boolean
      required:
      - success
    ToggleReadLaterResponse:
      type: object
      description: Response for toggle read later
      properties:
        success:
          type: boolean
      required:
      - success
    ToggleShareResponse:
      type: object
      description: Response for toggle share
      properties:
        success:
          type: boolean
        isShared:
          type: boolean
      required:
      - isShared
      - success
    ToggleSubscriptionResponse:
      type: object
      description: Response for toggle subscription
      properties:
        id:
          type: string
          format: uuid
        newsletterId:
          type: string
          format: uuid
        newsletterName:
          type: string
        subscribedAt:
          type: string
        isActive:
          type: boolean
      required:
      - id
      - isActive
      - newsletterId
      - newsletterName
      - subscribedAt
    TypeEnum:
      enum:
      - POCKET
      - NOTION
      - EVERNOTE
      type: string
      description: |-
        * `POCKET` - POCKET
        * `NOTION` - NOTION
        * `EVERNOTE` - EVERNOTE
    UnifiedSearchResponse:
      type: object
      description: Response for unified search
      properties:
        results:
          type: array
          items:
            $ref: '#/components/schemas/UnifiedSearchResult'
        total:
          type: integer
        page:
          type: integer
        page_size:
          type: integer
        has_next:
          type: boolean
        has_previous:
          type: boolean
      required:
      - has_next
      - has_previous
      - page
      - page_size
      - results
      - total
    UnifiedSearchResult:
      type: object
      description: Unified search result item
      properties:
        type:
          type: string
        id:
          type: string
        score:
          type: number
          format: double
        name:
          type: string
          nullable: true
        subject:
          type: string
          nullable: true
        sender:
          type: string
          nullable: true
        title:
          type: string
          nullable: true
        description:
          type: string
          nullable: true
        url:
          type: string
          format: uri
          nullable: true
        icon_url:
          type: string
          format: uri
          nullable: true
        date_received:
          type: string
          nullable: true
        published_at:
          type: string
          nullable: true
        is_read:
          type: boolean
          nullable: true
      required:
      - id
      - score
      - type
    UnsubscribeNewsletterResponse:
      type: object
      description: Response for unsubscribe newsletter
      properties:
        success:
          type: boolean
        message:
          type: string
      required:
      - message
      - success
    UpdateProgressResponse:
      type: object
      description: Response for update email progress
      properties:
        success:
          type: boolean
      required:
      - success
    UserEventCreateRequest:
      type: object
      description: Serializer for creating user events
      properties:
        event_type:
          $ref: '#/components/schemas/EventTypeEnum'
        item_id:
          type: string
          minLength: 1
          maxLength: 255
        item_type:
          type: string
          minLength: 1
          default: newsletter
          maxLength: 50
        value:
          type: number
          format: double
          nullable: true
        metadata:
          type: object
          additionalProperties: {}
        device_type:
          type: string
          nullable: true
          minLength: 1
          maxLength: 50
        app_section:
          type: string
          nullable: true
          minLength: 1
          maxLength: 100
        session_id:
          type: string
          nullable: true
          minLength: 1
          maxLength: 255
      required:
      - event_type
      - item_id
    UserEventResponse:
      type: object
      description: Response for user event creation
      properties:
        id:
          type: string
          format: uuid
        event_type:
          type: string
        item_id:
          type: string
        item_type:
          type: string
        value:
          type: number
          format: double
          nullable: true
        metadata:
          type: object
          additionalProperties: {}
          nullable: true
        device_type:
          type: string
          nullable: true
        app_section:
          type: string
          nullable: true
        session_id:
          type: string
          nullable: true
        created_at:
          type: string
          format: date-time
      required:
      - created_at
      - event_type
      - id
      - item_id
      - item_type
    UserInfo:
      type: object
      description: User information in authentication responses
      properties:
        id:
          type: string
          format: uuid
        email:
          type: string
          format: email
        name:
          type: string
          nullable: true
        isVerified:
          type: boolean
        isInboxCreated:
          type: boolean
      required:
      - email
      - id
      - isInboxCreated
      - isVerified
    UserProfileResponse:
      type: object
      description: Response for user profile endpoints
      properties:
        id:
          type: string
          format: uuid
        email:
          type: string
          format: email
        username:
          type: string
          nullable: true
        name:
          type: string
          nullable: true
        birthYear:
          type: string
          nullable: true
        gender:
          type: string
          nullable: true
        isVerified:
          type: boolean
        isInboxCreated:
          type: boolean
        inboxEmail:
          type: string
          nullable: true
        createdAt:
          type: string
      required:
      - createdAt
      - email
      - id
      - isInboxCreated
      - isVerified
    UserSubscription:
      type: object
      description: User subscription information
      properties:
        id:
          type: string
          format: uuid
        planId:
          type: string
          format: uuid
        planName:
          type: string
        status:
          type: string
        currentPeriodStart:
          type: string
          nullable: true
        currentPeriodEnd:
          type: string
          nullable: true
        cancelAtPeriodEnd:
          type: boolean
      required:
      - cancelAtPeriodEnd
      - id
      - planId
      - planName
      - status
    UsernameAvailabilityResponse:
      type: object
      description: Response for username availability check
      properties:
        available:
          type: boolean
      required:
      - available
    ValidateSessionRequest:
      type: object
      properties:
        accessToken:
          type: string
          minLength: 1
        refreshToken:
          type: string
          minLength: 1
    ValidateSessionResponse:
      type: object
      description: Response for validate session endpoint
      properties:
        isValid:
          type: boolean
        user:
          allOf:
          - $ref: '#/components/schemas/UserInfo'
          nullable: true
        message:
          type: string
          nullable: true
      required:
      - isValid
    VerificationStatusResponse:
      type: object
      description: Response for verification status endpoint
      properties:
        isVerified:
          type: boolean
        isInboxCreated:
          type: boolean
        isGmailConnected:
          type: boolean
      required:
      - isVerified
    VerifyOTPRequest:
      type: object
      properties:
        email:
          type: string
          format: email
          minLength: 1
        otp:
          type: string
          minLength: 4
          maxLength: 4
        deviceInfo:
          type: object
          additionalProperties: {}
      required:
      - deviceInfo
      - email
      - otp
    VerifyOTPResponse:
      type: object
      description: Response for verify OTP endpoint
      properties:
        accessToken:
          type: string
        refreshToken:
          type: string
        expiresAt:
          type: string
        user:
          $ref: '#/components/schemas/UserInfo'
        isNewUser:
          type: boolean
      required:
      - accessToken
      - expiresAt
      - isNewUser
      - refreshToken
      - user
  securitySchemes:
    Bearer:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: 'JWT token obtained from /api/auth/verify-otp/. Format: Bearer
        {accessToken}'
    cookieAuth:
      type: apiKey
      in: cookie
      name: sessionid
    jwtAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
servers:
- url: https://inbo-django-api.azurewebsites.net
  description: Production Server (Django API)
- url: https://inbo-api.azurewebsites.net
  description: Legacy Server (NestJS API - deprecated)
- url: http://localhost:8000
  description: Local Development Server
tags:
- name: Health Check
  description: API health and information endpoints
- name: Authentication
  description: OTP-based authentication system
- name: User
  description: Manage user profiles, inbox creation, dashboard data
- name: Email
  description: Read, organize, favorite, and manage emails
- name: Reading Logs
  description: Track daily reading progress and statistics
- name: Streak
  description: Manage reading streaks
- name: Integration
  description: Connect with external services
- name: Directory
  description: Browse and discover newsletters
- name: Subscription
  description: Manage newsletter subscriptions
- name: Gmail
  description: Gmail integration
- name: Webhook
  description: Webhook endpoints
- name: Account Deletion
  description: Account deletion and GDPR compliance
